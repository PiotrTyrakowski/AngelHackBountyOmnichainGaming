/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={709:(e,t,n)=>{n.r(t),n.d(t,{drawFood:()=>a,food:()=>s,generateFood:()=>i});var r=n(932),s={};function i(){s={x:Math.floor(Math.random()*r.q4)*r.oZ,y:Math.floor(Math.random()*r.q4)*r.oZ}}function a(){r.ej.fillStyle="red",r.ej.beginPath(),r.ej.arc(s.x+r.oZ/2,s.y+r.oZ/2,r.oZ/2-2,0,2*Math.PI),r.ej.fill()}i()},932:(e,t,n)=>{n.d(t,{Ji:()=>r,ej:()=>s,oZ:()=>i,q4:()=>a});var r=document.getElementById("gameCanvas"),s=r.getContext("2d"),i=20,a=r.width/i}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{OG:()=>Md,My:()=>Cd,Ph:()=>Rd,lX:()=>Bd,Id:()=>Ud,fg:()=>Vd,qj:()=>Fd,aT:()=>_d,lq:()=>Ld,z:()=>Dd,Q5:()=>Qd});var s=n(932),i=n(709),a=[{x:200,y:200}],o="",c="#666666";function u(e){o=e}var l=document.getElementById("score"),h=0;function d(){l.textContent="Score: "+h}function f(){a.length=0,a.push({x:200,y:200}),u(""),h=0,d(),Promise.resolve().then(n.bind(n,709)).then((function(e){return e.generateFood()}))}setInterval((function(){s.ej.fillStyle="white",s.ej.fillRect(0,0,s.Ji.width,s.Ji.height),function(){var e={x:a[0].x,y:a[0].y};switch(o){case"up":e.y-=s.oZ;break;case"down":e.y+=s.oZ;break;case"left":e.x-=s.oZ;break;case"right":e.x+=s.oZ}a.unshift(e),e.x===i.food.x&&e.y===i.food.y?(h+=1,d(),(0,i.generateFood)()):a.pop()}(),(0,i.drawFood)(),a.forEach((function(e,t){var n,r,i,a,o;s.ej.fillStyle=0===t?(n=parseInt(c.slice(1),16),r=Math.round(51),"#".concat((1<<24|((i=(n>>16)-r)<255?i<1?0:i:255)<<16|((a=(n>>8&255)-r)<255?a<1?0:a:255)<<8|((o=(255&n)-r)<255?o<1?0:o:255)).toString(16).slice(1))):c,s.ej.beginPath(),s.ej.roundRect(e.x,e.y,s.oZ-2,s.oZ-2,5),s.ej.fill(),0===t&&(s.ej.fillStyle="white",s.ej.beginPath(),s.ej.arc(e.x+5,e.y+5,2,0,2*Math.PI),s.ej.arc(e.x+15,e.y+5,2,0,2*Math.PI),s.ej.fill())})),function(){var e=a[0];(e.x<0||e.x>=s.Ji.width||e.y<0||e.y>=s.Ji.height)&&f();for(var t=1;t<a.length;t++)e.x===a[t].x&&e.y===a[t].y&&f()}()}),100);var p=document.getElementById("skinSelector");document.addEventListener("keydown",(function(e){var t=o;switch(e.key){case"ArrowUp":"down"!==t&&u("up");break;case"ArrowDown":"up"!==t&&u("down");break;case"ArrowLeft":"right"!==t&&u("left");break;case"ArrowRight":"left"!==t&&u("right")}})),p.addEventListener("change",(function(e){var t;t=e.target.value,c=t})),p.addEventListener("keydown",(function(e){["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault()}));class g extends Error{response;request;constructor(e,t){super(`${g.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,g.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,g)}static extractMessage(e){return e.errors?.[0]?.message??`GraphQL Error (Code: ${String(e.status)})`}}const m=e=>e.toUpperCase(),y=e=>"function"==typeof e?e():e,v=(e,t)=>e.map(((e,n)=>[e,t[n]])),w=e=>{let t={};return e instanceof Headers?t=b(e):Array.isArray(e)?e.forEach((([e,n])=>{e&&void 0!==n&&(t[e]=n)})):e&&(t=e),t},b=e=>{const t={};return e.forEach(((e,n)=>{t[n]=e})),t},A=e=>e instanceof Error?e:new Error(String(e)),E=e=>{throw new Error(`Unhandled case: ${String(e)}`)},x=e=>"object"==typeof e&&null!==e&&!Array.isArray(e);var k,N;(N=k||(k={})).NAME="Name",N.DOCUMENT="Document",N.OPERATION_DEFINITION="OperationDefinition",N.VARIABLE_DEFINITION="VariableDefinition",N.SELECTION_SET="SelectionSet",N.FIELD="Field",N.ARGUMENT="Argument",N.FRAGMENT_SPREAD="FragmentSpread",N.INLINE_FRAGMENT="InlineFragment",N.FRAGMENT_DEFINITION="FragmentDefinition",N.VARIABLE="Variable",N.INT="IntValue",N.FLOAT="FloatValue",N.STRING="StringValue",N.BOOLEAN="BooleanValue",N.NULL="NullValue",N.ENUM="EnumValue",N.LIST="ListValue",N.OBJECT="ObjectValue",N.OBJECT_FIELD="ObjectField",N.DIRECTIVE="Directive",N.NAMED_TYPE="NamedType",N.LIST_TYPE="ListType",N.NON_NULL_TYPE="NonNullType",N.SCHEMA_DEFINITION="SchemaDefinition",N.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",N.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",N.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",N.FIELD_DEFINITION="FieldDefinition",N.INPUT_VALUE_DEFINITION="InputValueDefinition",N.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",N.UNION_TYPE_DEFINITION="UnionTypeDefinition",N.ENUM_TYPE_DEFINITION="EnumTypeDefinition",N.ENUM_VALUE_DEFINITION="EnumValueDefinition",N.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",N.DIRECTIVE_DEFINITION="DirectiveDefinition",N.SCHEMA_EXTENSION="SchemaExtension",N.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",N.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",N.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",N.UNION_TYPE_EXTENSION="UnionTypeExtension",N.ENUM_TYPE_EXTENSION="EnumTypeExtension",N.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const T="Accept",I="Content-Type",O="application/json",P="application/graphql-response+json",C=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),S=e=>{try{if(Array.isArray(e))return{_tag:"Batch",executionResults:e.map(_)};if(x(e))return{_tag:"Single",executionResult:_(e)};throw new Error(`Invalid execution result: result is not object or array. \nGot:\n${String(e)}`)}catch(e){return e}},_=e=>{if("object"!=typeof e||null===e)throw new Error("Invalid execution result: result is not object");let t,n,r;if("errors"in e){if(!x(e.errors)&&!Array.isArray(e.errors))throw new Error("Invalid execution result: errors is not plain object OR array");t=e.errors}if("data"in e){if(!x(e.data)&&null!==e.data)throw new Error("Invalid execution result: data is not plain object");n=e.data}if("extensions"in e){if(!x(e.extensions))throw new Error("Invalid execution result: extensions is not plain object");r=e.extensions}return{data:n,errors:t,extensions:r}},R=e=>Array.isArray(e.errors)?e.errors.length>0:Boolean(e.errors),B=e=>"object"==typeof e&&null!==e&&"kind"in e&&e.kind===k.OPERATION_DEFINITION;class L{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class D{constructor(e,t,n,r,s,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=s,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const F={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},U=new Set(Object.keys(F));function M(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&U.has(t)}var j;function G(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(j||(j={}));const V=/\r\n|[\n\r]/g;function H(e,t){let n=0,r=1;for(const s of e.body.matchAll(V)){if("number"==typeof s.index||G(!1),s.index>=t)break;n=s.index+s[0].length,r+=1}return{line:r,column:t+1-n}}function Q(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,s=t.line-1,i=e.locationOffset.line-1,a=t.line+i,o=1===t.line?n:0,c=t.column+o,u=`${e.name}:${a}:${c}\n`,l=r.split(/\r\n|[\n\r]/g),h=l[s];if(h.length>120){const e=Math.floor(c/80),t=c%80,n=[];for(let e=0;e<h.length;e+=80)n.push(h.slice(e,e+80));return u+z([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return u+z([[a-1+" |",l[s-1]],[`${a} |`,h],["|","^".padStart(c)],[`${a+1} |`,l[s+1]]])}function z(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class Z extends Error{constructor(e,...t){var n,r,s;const{nodes:i,source:a,positions:o,path:c,originalError:u,extensions:l}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=u?u:void 0,this.nodes=q(Array.isArray(i)?i:i?[i]:void 0);const h=q(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=a?a:null==h||null===(r=h[0])||void 0===r?void 0:r.source,this.positions=null!=o?o:null==h?void 0:h.map((e=>e.start)),this.locations=o&&a?o.map((e=>H(a,e))):null==h?void 0:h.map((e=>H(e.source,e.start)));const d="object"==typeof(f=null==u?void 0:u.extensions)&&null!==f?null==u?void 0:u.extensions:void 0;var f;this.extensions=null!==(s=null!=l?l:d)&&void 0!==s?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Z):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+Q((t=n.loc).source,H(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+Q(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function q(e){return void 0===e||0===e.length?void 0:e}function J(e,t,n){return new Z(`Syntax Error: ${n}`,{source:e,positions:[t]})}var K,Y,W;function $(e){return 9===e||32===e}function X(e){return e>=48&&e<=57}function ee(e){return e>=97&&e<=122||e>=65&&e<=90}function te(e){return ee(e)||95===e}function ne(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,s=-1;for(let t=0;t<e.length;++t){var i;const a=e[t],o=re(a);o!==a.length&&(r=null!==(i=r)&&void 0!==i?i:t,s=t,0!==t&&o<n&&(n=o))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,s+1)}function re(e){let t=0;for(;t<e.length&&$(e.charCodeAt(t));)++t;return t}!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(K||(K={})),(W=Y||(Y={})).SOF="<SOF>",W.EOF="<EOF>",W.BANG="!",W.DOLLAR="$",W.AMP="&",W.PAREN_L="(",W.PAREN_R=")",W.SPREAD="...",W.COLON=":",W.EQUALS="=",W.AT="@",W.BRACKET_L="[",W.BRACKET_R="]",W.BRACE_L="{",W.PIPE="|",W.BRACE_R="}",W.NAME="Name",W.INT="Int",W.FLOAT="Float",W.STRING="String",W.BLOCK_STRING="BlockString",W.COMMENT="Comment";class se{constructor(e){const t=new D(Y.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Y.EOF)do{if(e.next)e=e.next;else{const t=he(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===Y.COMMENT);return e}}function ie(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ae(e,t){return oe(e.charCodeAt(t))&&ce(e.charCodeAt(t+1))}function oe(e){return e>=55296&&e<=56319}function ce(e){return e>=56320&&e<=57343}function ue(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return Y.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function le(e,t,n,r,s){const i=e.line,a=1+n-e.lineStart;return new D(t,n,r,i,a,s)}function he(e,t){const n=e.source.body,r=n.length;let s=t;for(;s<r;){const t=n.charCodeAt(s);switch(t){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:10===n.charCodeAt(s+1)?s+=2:++s,++e.line,e.lineStart=s;continue;case 35:return de(e,s);case 33:return le(e,Y.BANG,s,s+1);case 36:return le(e,Y.DOLLAR,s,s+1);case 38:return le(e,Y.AMP,s,s+1);case 40:return le(e,Y.PAREN_L,s,s+1);case 41:return le(e,Y.PAREN_R,s,s+1);case 46:if(46===n.charCodeAt(s+1)&&46===n.charCodeAt(s+2))return le(e,Y.SPREAD,s,s+3);break;case 58:return le(e,Y.COLON,s,s+1);case 61:return le(e,Y.EQUALS,s,s+1);case 64:return le(e,Y.AT,s,s+1);case 91:return le(e,Y.BRACKET_L,s,s+1);case 93:return le(e,Y.BRACKET_R,s,s+1);case 123:return le(e,Y.BRACE_L,s,s+1);case 124:return le(e,Y.PIPE,s,s+1);case 125:return le(e,Y.BRACE_R,s,s+1);case 34:return 34===n.charCodeAt(s+1)&&34===n.charCodeAt(s+2)?Ae(e,s):ge(e,s)}if(X(t)||45===t)return fe(e,s,t);if(te(t))return Ee(e,s);throw J(e.source,s,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":ie(t)||ae(n,s)?`Unexpected character: ${ue(e,s)}.`:`Invalid character: ${ue(e,s)}.`)}return le(e,Y.EOF,r,r)}function de(e,t){const n=e.source.body,r=n.length;let s=t+1;for(;s<r;){const e=n.charCodeAt(s);if(10===e||13===e)break;if(ie(e))++s;else{if(!ae(n,s))break;s+=2}}return le(e,Y.COMMENT,t,s,n.slice(t+1,s))}function fe(e,t,n){const r=e.source.body;let s=t,i=n,a=!1;if(45===i&&(i=r.charCodeAt(++s)),48===i){if(i=r.charCodeAt(++s),X(i))throw J(e.source,s,`Invalid number, unexpected digit after 0: ${ue(e,s)}.`)}else s=pe(e,s,i),i=r.charCodeAt(s);if(46===i&&(a=!0,i=r.charCodeAt(++s),s=pe(e,s,i),i=r.charCodeAt(s)),69!==i&&101!==i||(a=!0,i=r.charCodeAt(++s),43!==i&&45!==i||(i=r.charCodeAt(++s)),s=pe(e,s,i),i=r.charCodeAt(s)),46===i||te(i))throw J(e.source,s,`Invalid number, expected digit but got: ${ue(e,s)}.`);return le(e,a?Y.FLOAT:Y.INT,t,s,r.slice(t,s))}function pe(e,t,n){if(!X(n))throw J(e.source,t,`Invalid number, expected digit but got: ${ue(e,t)}.`);const r=e.source.body;let s=t+1;for(;X(r.charCodeAt(s));)++s;return s}function ge(e,t){const n=e.source.body,r=n.length;let s=t+1,i=s,a="";for(;s<r;){const r=n.charCodeAt(s);if(34===r)return a+=n.slice(i,s),le(e,Y.STRING,t,s+1,a);if(92!==r){if(10===r||13===r)break;if(ie(r))++s;else{if(!ae(n,s))throw J(e.source,s,`Invalid character within String: ${ue(e,s)}.`);s+=2}}else{a+=n.slice(i,s);const t=117===n.charCodeAt(s+1)?123===n.charCodeAt(s+2)?me(e,s):ye(e,s):be(e,s);a+=t.value,s+=t.size,i=s}}throw J(e.source,s,"Unterminated string.")}function me(e,t){const n=e.source.body;let r=0,s=3;for(;s<12;){const e=n.charCodeAt(t+s++);if(125===e){if(s<5||!ie(r))break;return{value:String.fromCodePoint(r),size:s}}if(r=r<<4|we(e),r<0)break}throw J(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+s)}".`)}function ye(e,t){const n=e.source.body,r=ve(n,t+2);if(ie(r))return{value:String.fromCodePoint(r),size:6};if(oe(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=ve(n,t+8);if(ce(e))return{value:String.fromCodePoint(r,e),size:12}}throw J(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ve(e,t){return we(e.charCodeAt(t))<<12|we(e.charCodeAt(t+1))<<8|we(e.charCodeAt(t+2))<<4|we(e.charCodeAt(t+3))}function we(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function be(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw J(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ae(e,t){const n=e.source.body,r=n.length;let s=e.lineStart,i=t+3,a=i,o="";const c=[];for(;i<r;){const r=n.charCodeAt(i);if(34===r&&34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)){o+=n.slice(a,i),c.push(o);const r=le(e,Y.BLOCK_STRING,t,i+3,ne(c).join("\n"));return e.line+=c.length-1,e.lineStart=s,r}if(92!==r||34!==n.charCodeAt(i+1)||34!==n.charCodeAt(i+2)||34!==n.charCodeAt(i+3))if(10!==r&&13!==r)if(ie(r))++i;else{if(!ae(n,i))throw J(e.source,i,`Invalid character within String: ${ue(e,i)}.`);i+=2}else o+=n.slice(a,i),c.push(o),13===r&&10===n.charCodeAt(i+1)?i+=2:++i,o="",a=i,s=i;else o+=n.slice(a,i),a=i+1,i+=4}throw J(e.source,i,"Unterminated string.")}function Ee(e,t){const n=e.source.body,r=n.length;let s=t+1;for(;s<r&&(ee(i=n.charCodeAt(s))||X(i)||95===i);)++s;var i;return le(e,Y.NAME,t,s,n.slice(t,s))}function xe(e,t){if(!Boolean(e))throw new Error(t)}const ke=10,Ne=2;function Te(e){return Ie(e,[])}function Ie(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Ie(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Ne)return"[Array]";const n=Math.min(ke,e.length),r=e.length-n,s=[];for(let r=0;r<n;++r)s.push(Ie(e[r],t));return 1===r?s.push("... 1 more item"):r>1&&s.push(`... ${r} more items`),"["+s.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>Ne)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+Ie(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}const Oe=globalThis.process?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var n;const r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=Te(e);throw new Error(`Cannot use ${r} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1};class Pe{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||xe(!1,`Body must be a string. Received: ${Te(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||xe(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||xe(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class Ce{constructor(e,t={}){const n=function(e){return Oe(e,Pe)}(e)?e:new Pe(e);this._lexer=new se(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(Y.NAME);return this.node(e,{kind:k.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:k.DOCUMENT,definitions:this.many(Y.SOF,this.parseDefinition,Y.EOF)})}parseDefinition(){if(this.peek(Y.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===Y.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw J(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Y.BRACE_L))return this.node(e,{kind:k.OPERATION_DEFINITION,operation:j.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(Y.NAME)&&(n=this.parseName()),this.node(e,{kind:k.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Y.NAME);switch(e.value){case"query":return j.QUERY;case"mutation":return j.MUTATION;case"subscription":return j.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Y.PAREN_L,this.parseVariableDefinition,Y.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:k.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Y.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Y.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Y.DOLLAR),this.node(e,{kind:k.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:k.SELECTION_SET,selections:this.many(Y.BRACE_L,this.parseSelection,Y.BRACE_R)})}parseSelection(){return this.peek(Y.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(Y.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:k.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Y.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Y.PAREN_L,t,Y.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(Y.COLON),this.node(t,{kind:k.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Y.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(Y.NAME)?this.node(e,{kind:k.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:k.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:k.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:k.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case Y.BRACKET_L:return this.parseList(e);case Y.BRACE_L:return this.parseObject(e);case Y.INT:return this.advanceLexer(),this.node(t,{kind:k.INT,value:t.value});case Y.FLOAT:return this.advanceLexer(),this.node(t,{kind:k.FLOAT,value:t.value});case Y.STRING:case Y.BLOCK_STRING:return this.parseStringLiteral();case Y.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:k.BOOLEAN,value:!0});case"false":return this.node(t,{kind:k.BOOLEAN,value:!1});case"null":return this.node(t,{kind:k.NULL});default:return this.node(t,{kind:k.ENUM,value:t.value})}case Y.DOLLAR:if(e){if(this.expectToken(Y.DOLLAR),this._lexer.token.kind===Y.NAME){const e=this._lexer.token.value;throw J(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:k.STRING,value:e.value,block:e.kind===Y.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:k.LIST,values:this.any(Y.BRACKET_L,(()=>this.parseValueLiteral(e)),Y.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:k.OBJECT,fields:this.any(Y.BRACE_L,(()=>this.parseObjectField(e)),Y.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(Y.COLON),this.node(t,{kind:k.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(Y.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(Y.AT),this.node(t,{kind:k.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(Y.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(Y.BRACKET_R),t=this.node(e,{kind:k.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(Y.BANG)?this.node(e,{kind:k.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:k.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Y.STRING)||this.peek(Y.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);return this.node(e,{kind:k.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(Y.COLON);const n=this.parseNamedType();return this.node(e,{kind:k.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:k.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:k.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:s,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Y.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Y.BRACE_L,this.parseFieldDefinition,Y.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Y.COLON);const s=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:k.FIELD_DEFINITION,description:t,name:n,arguments:r,type:s,directives:i})}parseArgumentDefs(){return this.optionalMany(Y.PAREN_L,this.parseInputValueDef,Y.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Y.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(Y.EQUALS)&&(s=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:k.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:s,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:k.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:s,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:k.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(Y.EQUALS)?this.delimitedMany(Y.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:k.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(Y.BRACE_L,this.parseEnumValueDefinition,Y.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:k.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw J(this._lexer.source,this._lexer.token.start,`${Se(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:k.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(Y.BRACE_L,this.parseInputValueDef,Y.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Y.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(Y.BRACE_L,this.parseOperationTypeDefinition,Y.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:k.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:k.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(e,{kind:k.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(e,{kind:k.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:k.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:k.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:k.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Y.AT);const n=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:k.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:s,locations:i})}parseDirectiveLocations(){return this.delimitedMany(Y.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(K,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new L(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw J(this._lexer.source,t.start,`Expected ${_e(e)}, found ${Se(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==Y.NAME||t.value!==e)throw J(this._lexer.source,t.start,`Expected "${e}", found ${Se(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===Y.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return J(this._lexer.source,t.start,`Unexpected ${Se(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==Y.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw J(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Se(e){const t=e.value;return _e(e.kind)+(null!=t?` "${t}"`:"")}function _e(e){return function(e){return e===Y.BANG||e===Y.DOLLAR||e===Y.AMP||e===Y.PAREN_L||e===Y.PAREN_R||e===Y.SPREAD||e===Y.COLON||e===Y.EQUALS||e===Y.AT||e===Y.BRACKET_L||e===Y.BRACKET_R||e===Y.BRACE_L||e===Y.PIPE||e===Y.BRACE_R}(e)?`"${e}"`:e}const Re=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Be(e){return Le[e.charCodeAt(0)]}const Le=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],De=Object.freeze({});function Fe(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}const Ue={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Me(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Ge("(",Me(e.variableDefinitions,", "),")"),n=Me([e.operation,Me([e.name,t]),Me(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Ge(" = ",n)+Ge(" ",Me(r," "))},SelectionSet:{leave:({selections:e})=>je(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:s}){const i=Ge("",e,": ")+t;let a=i+Ge("(",Me(n,", "),")");return a.length>80&&(a=i+Ge("(\n",Ve(Me(n,"\n")),"\n)")),Me([a,Me(r," "),s]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Ge(" ",Me(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Me(["...",Ge("on ",e),Me(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:s})=>`fragment ${e}${Ge("(",Me(n,", "),")")} on ${t} ${Ge("",Me(r," ")," ")}`+s},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e){const t=e.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),r=1===n.length,s=n.length>1&&n.slice(1).every((e=>0===e.length||$(e.charCodeAt(0)))),i=t.endsWith('\\"""'),a=e.endsWith('"')&&!i,o=e.endsWith("\\"),c=a||o,u=!r||e.length>70||c||s||i;let l="";const h=r&&$(e.charCodeAt(0));return(u&&!h||s)&&(l+="\n"),l+=t,(u||c)&&(l+="\n"),'"""'+l+'"""'}(e):`"${e.replace(Re,Be)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Me(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Me(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Ge("(",Me(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Ge("",e,"\n")+Me(["schema",Me(t," "),je(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Ge("",e,"\n")+Me(["scalar",t,Me(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:s})=>Ge("",e,"\n")+Me(["type",t,Ge("implements ",Me(n," & ")),Me(r," "),je(s)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:s})=>Ge("",e,"\n")+t+(He(n)?Ge("(\n",Ve(Me(n,"\n")),"\n)"):Ge("(",Me(n,", "),")"))+": "+r+Ge(" ",Me(s," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:s})=>Ge("",e,"\n")+Me([t+": "+n,Ge("= ",r),Me(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:s})=>Ge("",e,"\n")+Me(["interface",t,Ge("implements ",Me(n," & ")),Me(r," "),je(s)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>Ge("",e,"\n")+Me(["union",t,Me(n," "),Ge("= ",Me(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>Ge("",e,"\n")+Me(["enum",t,Me(n," "),je(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Ge("",e,"\n")+Me([t,Me(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>Ge("",e,"\n")+Me(["input",t,Me(n," "),je(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:s})=>Ge("",e,"\n")+"directive @"+t+(He(n)?Ge("(\n",Ve(Me(n,"\n")),"\n)"):Ge("(",Me(n,", "),")"))+(r?" repeatable":"")+" on "+Me(s," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Me(["extend schema",Me(e," "),je(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Me(["extend scalar",e,Me(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Me(["extend type",e,Ge("implements ",Me(t," & ")),Me(n," "),je(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Me(["extend interface",e,Ge("implements ",Me(t," & ")),Me(n," "),je(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Me(["extend union",e,Me(t," "),Ge("= ",Me(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Me(["extend enum",e,Me(t," "),je(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Me(["extend input",e,Me(t," "),je(n)]," ")}};function Me(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function je(e){return Ge("{\n",Ve(Me(e,"\n")),"\n}")}function Ge(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Ve(e){return Ge("  ",e.replace(/\n/g,"\n  "))}function He(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}const Qe=(e,t)=>{const n="string"==typeof e?e:function(e,t,n=F){const r=new Map;for(const e of Object.values(k))r.set(e,Fe(t,e));let s,i,a,o=Array.isArray(e),c=[e],u=-1,l=[],h=e;const d=[],f=[];do{u++;const e=u===c.length,y=e&&0!==l.length;if(e){if(i=0===f.length?void 0:d[d.length-1],h=a,a=f.pop(),y)if(o){h=h.slice();let e=0;for(const[t,n]of l){const r=t-e;null===n?(h.splice(r,1),e++):h[r]=n}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(const[e,t]of l)h[e]=t}u=s.index,c=s.keys,l=s.edits,o=s.inArray,s=s.prev}else if(a){if(i=o?u:c[u],h=a[i],null==h)continue;d.push(i)}let v;if(!Array.isArray(h)){var p,g;M(h)||xe(!1,`Invalid AST Node: ${Te(h)}.`);const n=e?null===(p=r.get(h.kind))||void 0===p?void 0:p.leave:null===(g=r.get(h.kind))||void 0===g?void 0:g.enter;if(v=null==n?void 0:n.call(t,h,i,a,d,f),v===De)break;if(!1===v){if(!e){d.pop();continue}}else if(void 0!==v&&(l.push([i,v]),!e)){if(!M(v)){d.pop();continue}h=v}}var m;void 0===v&&y&&l.push([i,h]),e?d.pop():(s={inArray:o,index:u,keys:c,edits:l,prev:s},o=Array.isArray(h),c=o?h:null!==(m=n[h.kind])&&void 0!==m?m:[],u=-1,l=[],a&&f.push(a),a=h)}while(void 0!==s);return 0!==l.length?l[l.length-1][1]:e}(e,Ue);let r,s=!1;if(t)return{expression:n,isMutation:s,operationName:r};const i=(()=>{try{const r="string"==typeof e?new Ce(e,n).parseDocument():e;return"object"==typeof(t=r)&&null!==t&&"then"in t&&"function"==typeof t.then&&"catch"in t&&"function"==typeof t.catch&&"finally"in t&&"function"==typeof t.finally?r.catch((e=>A(e))):r}catch(e){return A(e)}var t,n})();return i instanceof Error?{expression:n,isMutation:s,operationName:r}:(r=(e=>{let t;const n=e.definitions.filter(B);return 1===n.length&&(t=n[0].name?.value),t})(i),s=(e=>{let t=!1;const n=e.definitions.filter(B);return 1===n.length&&(t=n[0].operation===j.MUTATION),t})(i),{expression:n,operationName:r,isMutation:s})},ze=JSON,Ze=async e=>{const t={...e,method:"Single"===e.request._tag?e.request.document.isMutation?"POST":m(e.method??"post"):e.request.hasMutations?"POST":m(e.method??"post"),fetchOptions:{...e.fetchOptions,errorPolicy:e.fetchOptions.errorPolicy??"none"}},n=Ke(t.method),r=await n(t);if(!r.ok)return new g({status:r.status,headers:r.headers},{query:"Single"===e.request._tag?e.request.document.expression:e.request.query,variables:e.request.variables});const s=await Je(r,e.fetchOptions.jsonSerializer??ze);if(s instanceof Error)throw s;const i={status:r.status,headers:r.headers};if((e=>"Batch"===e._tag?e.executionResults.some(R):R(e.executionResult))(s)&&"none"===t.fetchOptions.errorPolicy){const t="Batch"===s._tag?{...s.executionResults,...i}:{...s.executionResult,...i};return new g(t,{query:"Single"===e.request._tag?e.request.document.expression:e.request.query,variables:e.request.variables})}switch(s._tag){case"Single":return{...i,...qe(t)(s.executionResult)};case"Batch":return{...i,data:s.executionResults.map(qe(t))};default:E(s)}},qe=e=>t=>({extensions:t.extensions,data:t.data,errors:"all"===e.fetchOptions.errorPolicy?t.errors:void 0}),Je=async(e,t)=>{const n=e.headers.get(I),r=await e.text();return n&&(e=>{const t=e.toLowerCase();return t.includes(P)||t.includes(O)})(n)?S(t.parse(r)):S(r)},Ke=e=>async t=>{const n=new Headers(t.headers);let r,s=null;n.has(T)||n.set(T,[P,O].join(", ")),"POST"===e?(r=(t.fetchOptions.jsonSerializer??ze).stringify(Ye(t)),"string"!=typeof r||n.has(I)||n.set(I,O)):s=We(t);const i={method:e,headers:n,body:r,...t.fetchOptions};let a=new URL(t.url),o=i;if(t.middleware){const e=await Promise.resolve(t.middleware({...i,url:t.url,operationName:"Single"===t.request._tag?t.request.document.operationName:void 0,variables:t.request.variables})),{url:n,...r}=e;a=new URL(n),o=r}s&&s.forEach(((e,t)=>{a.searchParams.append(t,e)}));const c=t.fetch??fetch;return await c(a,o)},Ye=e=>{switch(e.request._tag){case"Single":return{query:e.request.document.expression,variables:e.request.variables,operationName:e.request.document.operationName};case"Batch":return v(e.request.query,e.request.variables??[]).map((([e,t])=>({query:e,variables:t})));default:throw E(e.request)}},We=e=>{const t=e.fetchOptions.jsonSerializer??ze,n=new URLSearchParams;switch(e.request._tag){case"Single":return n.append("query",C(e.request.document.expression)),e.request.variables&&n.append("variables",t.stringify(e.request.variables)),e.request.document.operationName&&n.append("operationName",e.request.document.operationName),n;case"Batch":{const r=e.request.variables?.map((e=>t.stringify(e)))??[],s=e.request.query.map(C),i=v(s,r).map((([e,t])=>({query:e,variables:t})));return n.append("query",t.stringify(i)),n}default:throw E(e.request)}};class $e{url;requestConfig;constructor(e,t={}){this.url=e,this.requestConfig=t}rawRequest=async(...e)=>{const[t,n,r]=e,s=((e,t,n)=>e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0})(t,n,r),{headers:i,fetch:a=globalThis.fetch,method:o="POST",requestMiddleware:c,responseMiddleware:u,excludeOperationName:l,...h}=this.requestConfig,{url:d}=this;void 0!==s.signal&&(h.signal=s.signal);const f=Qe(s.query,l),p=await Ze({url:d,request:{_tag:"Single",document:f,variables:s.variables},headers:{...w(y(i)),...w(s.requestHeaders)},fetch:a,method:o,fetchOptions:h,middleware:c});if(u&&await u(p,{operationName:f.operationName,variables:n,url:this.url}),p instanceof Error)throw p;return p};async request(e,...t){const[n,r]=t,s=et(e,n,r),{headers:i,fetch:a=globalThis.fetch,method:o="POST",requestMiddleware:c,responseMiddleware:u,excludeOperationName:l,...h}=this.requestConfig,{url:d}=this;void 0!==s.signal&&(h.signal=s.signal);const f=Qe(s.document,l),p=await Ze({url:d,request:{_tag:"Single",document:f,variables:s.variables},headers:{...w(y(i)),...w(s.requestHeaders)},fetch:a,method:o,fetchOptions:h,middleware:c});if(u&&await u(p,{operationName:f.operationName,variables:s.variables,url:this.url}),p instanceof Error)throw p;return p.data}async batchRequests(e,t){const n=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(e,t),{headers:r,excludeOperationName:s,...i}=this.requestConfig;void 0!==n.signal&&(i.signal=n.signal);const a=n.documents.map((({document:e})=>Qe(e,s))),o=a.map((({expression:e})=>e)),c=a.some((({isMutation:e})=>e)),u=n.documents.map((({variables:e})=>e)),l=await Ze({url:this.url,request:{_tag:"Batch",operationName:void 0,query:o,hasMutations:c,variables:u},headers:{...w(y(r)),...w(n.requestHeaders)},fetch:this.requestConfig.fetch??globalThis.fetch,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware});if(this.requestConfig.responseMiddleware&&await this.requestConfig.responseMiddleware(l,{operationName:void 0,variables:u,url:this.url}),l instanceof Error)throw l;return l.data}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:n}=this.requestConfig;return n?n[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}async function Xe(e,t,...n){const r=tt(e,t,...n);return new $e(r.url).request({...r})}const et=(e,t,n)=>e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0},tt=(e,t,...n)=>{const[r,s]=n;return"string"==typeof e?{url:e,document:t,variables:r,requestHeaders:s,signal:void 0}:e},nt=4001,rt=4100,st=4200,it=4900,at=4901,ot=-32700,ct=-32600,ut=-32601,lt=-32602,ht=-32603,dt=-32e3,ft=-32001,pt=-32002,gt=-32003,mt=-32004,yt=-32005,vt=-32006;class wt extends Error{constructor(e,t){super(e),Array.isArray(t)?this.cause=new bt(t):this.cause=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}get innerError(){return this.cause instanceof bt?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new bt(e):this.cause=e}static convertToString(e,t=!1){if(null==e)return"undefined";const n=JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class bt extends wt{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=208,this.errors=e}}class At extends wt{constructor(e,t){super(`Invalid value given "${wt.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class Et extends At{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}const xt={[ot]:{message:"Parse error",description:"Invalid JSON"},[ct]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[ut]:{message:"Method not found",description:"Method does not exist\t"},[lt]:{message:"Invalid params",description:"Invalid method parameters"},[ht]:{message:"Internal error",description:"Internal JSON-RPC error"},[dt]:{message:"Invalid input",description:"Missing or invalid parameters"},[ft]:{message:"Resource not found",description:"Requested resource not found"},[pt]:{message:"Resource unavailable",description:"Requested resource not available"},[gt]:{message:"Transaction rejected",description:"Transaction creation failed"},[mt]:{message:"Method not supported",description:"Method is not implemented"},[yt]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[vt]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[nt]:{name:"User Rejected Request",message:"The user rejected the request."},[rt]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[st]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[it]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[at]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class kt extends wt{constructor(e,t){super(null!=t?t:"An Rpc error has occured with a code of *code*".replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}const Nt=new Map;Nt.set(ot,{error:class extends kt{constructor(e){super(e,xt[-32700].message),this.code=ot}}}),Nt.set(ct,{error:class extends kt{constructor(e){super(e,xt[-32600].message),this.code=ct}}}),Nt.set(ut,{error:class extends kt{constructor(e){super(e,xt[-32601].message),this.code=ut}}}),Nt.set(lt,{error:class extends kt{constructor(e){super(e,xt[-32602].message),this.code=lt}}}),Nt.set(ht,{error:class extends kt{constructor(e){super(e,xt[-32603].message),this.code=ht}}}),Nt.set(dt,{error:class extends kt{constructor(e){super(e,xt[-32e3].message),this.code=dt}}}),Nt.set(mt,{error:class extends kt{constructor(e){super(e,xt[-32004].message),this.code=mt}}}),Nt.set(pt,{error:class extends kt{constructor(e){super(e,xt[-32002].message),this.code=pt}}}),Nt.set(gt,{error:class extends kt{constructor(e){super(e,xt[-32003].message),this.code=gt}}}),Nt.set(ft,{error:class extends kt{constructor(e){super(e,xt[-32001].message),this.code=ft}}}),Nt.set(vt,{error:class extends kt{constructor(e){super(e,xt[-32006].message),this.code=vt}}}),Nt.set(yt,{error:class extends kt{constructor(e){super(e,xt[-32005].message),this.code=yt}}});class Tt extends wt{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}var It,Ot;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(It||(It={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Ot||(Ot={}));const Pt=It.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ct=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:null===e?Pt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Pt.promise:"undefined"!=typeof Map&&e instanceof Map?Pt.map:"undefined"!=typeof Set&&e instanceof Set?Pt.set:"undefined"!=typeof Date&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},St=It.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _t extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(r);else if("invalid_return_type"===s.code)r(s.returnTypeError);else if("invalid_arguments"===s.code)r(s.argumentsError);else if(0===s.path.length)n._errors.push(t(s));else{let e=n,r=0;for(;r<s.path.length;){const n=s.path[r];r===s.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(s))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof _t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,It.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}_t.create=e=>new _t(e);const Rt=(e,t)=>{let n;switch(e.code){case St.invalid_type:n=e.received===Pt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case St.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,It.jsonStringifyReplacer)}`;break;case St.unrecognized_keys:n=`Unrecognized key(s) in object: ${It.joinValues(e.keys,", ")}`;break;case St.invalid_union:n="Invalid input";break;case St.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${It.joinValues(e.options)}`;break;case St.invalid_enum_value:n=`Invalid enum value. Expected ${It.joinValues(e.options)}, received '${e.received}'`;break;case St.invalid_arguments:n="Invalid function arguments";break;case St.invalid_return_type:n="Invalid function return type";break;case St.invalid_date:n="Invalid date";break;case St.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:It.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case St.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case St.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case St.custom:n="Invalid input";break;case St.invalid_intersection_types:n="Intersection results could not be merged";break;case St.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case St.not_finite:n="Number must be finite";break;default:n=t.defaultError,It.assertNever(e)}return{message:n}};let Bt=Rt;function Lt(){return Bt}const Dt=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(void 0!==s.message)return{...s,path:i,message:s.message};let o="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}};function Ft(e,t){const n=Lt(),r=Dt({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Rt?void 0:Rt].filter((e=>!!e))});e.common.issues.push(r)}class Ut{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Mt;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return Ut.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:s}=r;if("aborted"===t.status)return Mt;if("aborted"===s.status)return Mt;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!r.alwaysSet||(n[t.value]=s.value)}return{status:e.value,value:n}}}const Mt=Object.freeze({status:"aborted"}),jt=e=>({status:"dirty",value:e}),Gt=e=>({status:"valid",value:e}),Vt=e=>"aborted"===e.status,Ht=e=>"dirty"===e.status,Qt=e=>"valid"===e.status,zt=e=>"undefined"!=typeof Promise&&e instanceof Promise;function Zt(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function qt(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n}var Jt,Kt,Yt;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Jt||(Jt={}));class Wt{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $t=(e,t)=>{if(Qt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new _t(e.common.issues);return this._error=t,this._error}}};function Xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{var i,a;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:s.defaultError}:void 0===s.data?{message:null!==(i=null!=o?o:r)&&void 0!==i?i:s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:null!==(a=null!=o?o:n)&&void 0!==a?a:s.defaultError}},description:s}}class en{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ct(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(zt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},s=this._parseSync({data:e,path:r.path,parent:r});return $t(r,s)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},r=this._parse({data:e,path:n.path,parent:n}),s=await(zt(r)?r:Promise.resolve(r));return $t(n,s)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const s=e(t),i=()=>r.addIssue({code:St.custom,...n(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then((e=>!!e||(i(),!1))):!!s||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new Yn({schema:this,typeName:cr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Wn.create(this,this._def)}nullable(){return $n.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this,this._def)}promise(){return Kn.create(this,this._def)}or(e){return Bn.create([this,e],this._def)}and(e){return Un.create(this,e,this._def)}transform(e){return new Yn({...Xt(this._def),schema:this,typeName:cr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Xn({...Xt(this._def),innerType:this,defaultValue:t,typeName:cr.ZodDefault})}brand(){return new rr({typeName:cr.ZodBranded,type:this,...Xt(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new er({...Xt(this._def),innerType:this,catchValue:t,typeName:cr.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return sr.create(this,e)}readonly(){return ir.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tn=/^c[^\s-]{8,}$/i,nn=/^[0-9a-z]+$/,rn=/^[0-9A-HJKMNP-TV-Z]{26}$/,sn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,an=/^[a-z0-9_-]{21}$/i,on=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let un;const ln=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,dn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pn=new RegExp(`^${fn}$`);function gn(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function mn(e){let t=`${fn}T${gn(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function yn(e,t){return!("v4"!==t&&t||!ln.test(e))||!("v6"!==t&&t||!hn.test(e))}class vn extends en{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pt.string){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.string,received:t.parsedType}),Mt}const t=new Ut;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const s=e.data.length>r.value,i=e.data.length<r.value;(s||i)&&(n=this._getOrReturnCtx(e,n),s?Ft(n,{code:St.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&Ft(n,{code:St.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)cn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"email",code:St.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)un||(un=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),un.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"emoji",code:St.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)sn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"uuid",code:St.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)an.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"nanoid",code:St.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)tn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"cuid",code:St.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)nn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"cuid2",code:St.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)rn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"ulid",code:St.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(s){n=this._getOrReturnCtx(e,n),Ft(n,{validation:"url",code:St.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"regex",code:St.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?mn(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?pn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?new RegExp(`^${gn(r)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?on.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"duration",code:St.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?yn(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"ip",code:St.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?dn.test(e.data)||(n=this._getOrReturnCtx(e,n),Ft(n,{validation:"base64",code:St.invalid_string,message:r.message}),t.dirty()):It.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:St.invalid_string,...Jt.errToObj(n)})}_addCheck(e){return new vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Jt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Jt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Jt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Jt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Jt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Jt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Jt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Jt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Jt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Jt.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...Jt.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...Jt.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Jt.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Jt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Jt.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Jt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Jt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Jt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Jt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Jt.errToObj(t)})}nonempty(e){return this.min(1,Jt.errToObj(e))}trim(){return new vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function wn(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}vn.create=e=>{var t;return new vn({checks:[],typeName:cr.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Xt(e)})};class bn extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pt.number){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.number,received:t.parsedType}),Mt}let t;const n=new Ut;for(const r of this._def.checks)"int"===r.kind?It.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==wn(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.not_finite,message:r.message}),n.dirty()):It.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jt.toString(t))}setLimit(e,t,n,r){return new bn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Jt.toString(r)}]})}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Jt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Jt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Jt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Jt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&It.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}bn.create=e=>new bn({checks:[],typeName:cr.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Xt(e)});class An extends en{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Pt.bigint){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.bigint,received:t.parsedType}),Mt}let t;const n=new Ut;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ft(t,{code:St.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):It.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jt.toString(t))}setLimit(e,t,n,r){return new An({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Jt.toString(r)}]})}_addCheck(e){return new An({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}An.create=e=>{var t;return new An({checks:[],typeName:cr.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Xt(e)})};class En extends en{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Pt.boolean){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.boolean,received:t.parsedType}),Mt}return Gt(e.data)}}En.create=e=>new En({typeName:cr.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Xt(e)});class xn extends en{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pt.date){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.date,received:t.parsedType}),Mt}if(isNaN(e.data.getTime()))return Ft(this._getOrReturnCtx(e),{code:St.invalid_date}),Mt;const t=new Ut;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ft(n,{code:St.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):It.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Jt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Jt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}xn.create=e=>new xn({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:cr.ZodDate,...Xt(e)});class kn extends en{_parse(e){if(this._getType(e)!==Pt.symbol){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.symbol,received:t.parsedType}),Mt}return Gt(e.data)}}kn.create=e=>new kn({typeName:cr.ZodSymbol,...Xt(e)});class Nn extends en{_parse(e){if(this._getType(e)!==Pt.undefined){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.undefined,received:t.parsedType}),Mt}return Gt(e.data)}}Nn.create=e=>new Nn({typeName:cr.ZodUndefined,...Xt(e)});class Tn extends en{_parse(e){if(this._getType(e)!==Pt.null){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.null,received:t.parsedType}),Mt}return Gt(e.data)}}Tn.create=e=>new Tn({typeName:cr.ZodNull,...Xt(e)});class In extends en{constructor(){super(...arguments),this._any=!0}_parse(e){return Gt(e.data)}}In.create=e=>new In({typeName:cr.ZodAny,...Xt(e)});class On extends en{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gt(e.data)}}On.create=e=>new On({typeName:cr.ZodUnknown,...Xt(e)});class Pn extends en{_parse(e){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.never,received:t.parsedType}),Mt}}Pn.create=e=>new Pn({typeName:cr.ZodNever,...Xt(e)});class Cn extends en{_parse(e){if(this._getType(e)!==Pt.undefined){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.void,received:t.parsedType}),Mt}return Gt(e.data)}}Cn.create=e=>new Cn({typeName:cr.ZodVoid,...Xt(e)});class Sn extends en{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Pt.array)return Ft(t,{code:St.invalid_type,expected:Pt.array,received:t.parsedType}),Mt;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,s=t.data.length<r.exactLength.value;(e||s)&&(Ft(t,{code:e?St.too_big:St.too_small,minimum:s?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ft(t,{code:St.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ft(t,{code:St.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Wt(t,e,t.path,n))))).then((e=>Ut.mergeArray(n,e)));const s=[...t.data].map(((e,n)=>r.type._parseSync(new Wt(t,e,t.path,n))));return Ut.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new Sn({...this._def,minLength:{value:e,message:Jt.toString(t)}})}max(e,t){return new Sn({...this._def,maxLength:{value:e,message:Jt.toString(t)}})}length(e,t){return new Sn({...this._def,exactLength:{value:e,message:Jt.toString(t)}})}nonempty(e){return this.min(1,e)}}function _n(e){if(e instanceof Rn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Wn.create(_n(r))}return new Rn({...e._def,shape:()=>t})}return e instanceof Sn?new Sn({...e._def,type:_n(e.element)}):e instanceof Wn?Wn.create(_n(e.unwrap())):e instanceof $n?$n.create(_n(e.unwrap())):e instanceof Mn?Mn.create(e.items.map((e=>_n(e)))):e}Sn.create=(e,t)=>new Sn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:cr.ZodArray,...Xt(t)});class Rn extends en{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=It.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Pt.object){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.object,received:t.parsedType}),Mt}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof Pn&&"strip"===this._def.unknownKeys))for(const e in n.data)s.includes(e)||i.push(e);const a=[];for(const e of s){const t=r[e],s=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new Wt(n,s,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Pn){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(Ft(n,{code:St.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new Wt(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Ut.mergeObjectSync(t,e))):Ut.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Jt.errToObj,new Rn({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,s,i,a;const o=null!==(i=null===(s=(r=this._def).errorMap)||void 0===s?void 0:s.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=Jt.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new Rn({...this._def,unknownKeys:"strip"})}passthrough(){return new Rn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:cr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Rn({...this._def,catchall:e})}pick(e){const t={};return It.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Rn({...this._def,shape:()=>t})}omit(e){const t={};return It.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Rn({...this._def,shape:()=>t})}deepPartial(){return _n(this)}partial(e){const t={};return It.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Rn({...this._def,shape:()=>t})}required(e){const t={};return It.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Wn;)e=e._def.innerType;t[n]=e}})),new Rn({...this._def,shape:()=>t})}keyof(){return Zn(It.objectKeys(this.shape))}}Rn.create=(e,t)=>new Rn({shape:()=>e,unknownKeys:"strip",catchall:Pn.create(),typeName:cr.ZodObject,...Xt(t)}),Rn.strictCreate=(e,t)=>new Rn({shape:()=>e,unknownKeys:"strict",catchall:Pn.create(),typeName:cr.ZodObject,...Xt(t)}),Rn.lazycreate=(e,t)=>new Rn({shape:e,unknownKeys:"strip",catchall:Pn.create(),typeName:cr.ZodObject,...Xt(t)});class Bn extends en{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new _t(e.ctx.common.issues)));return Ft(t,{code:St.invalid_union,unionErrors:n}),Mt}));{let e;const r=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=r.map((e=>new _t(e)));return Ft(t,{code:St.invalid_union,unionErrors:s}),Mt}}get options(){return this._def.options}}Bn.create=(e,t)=>new Bn({options:e,typeName:cr.ZodUnion,...Xt(t)});const Ln=e=>e instanceof Qn?Ln(e.schema):e instanceof Yn?Ln(e.innerType()):e instanceof zn?[e.value]:e instanceof qn?e.options:e instanceof Jn?It.objectValues(e.enum):e instanceof Xn?Ln(e._def.innerType):e instanceof Nn?[void 0]:e instanceof Tn?[null]:e instanceof Wn?[void 0,...Ln(e.unwrap())]:e instanceof $n?[null,...Ln(e.unwrap())]:e instanceof rr||e instanceof ir?Ln(e.unwrap()):e instanceof er?Ln(e._def.innerType):[];class Dn extends en{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Pt.object)return Ft(t,{code:St.invalid_type,expected:Pt.object,received:t.parsedType}),Mt;const n=this.discriminator,r=t.data[n],s=this.optionsMap.get(r);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Ft(t,{code:St.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Ln(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of t){if(r.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);r.set(s,n)}}return new Dn({typeName:cr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Xt(n)})}}function Fn(e,t){const n=Ct(e),r=Ct(t);if(e===t)return{valid:!0,data:e};if(n===Pt.object&&r===Pt.object){const n=It.objectKeys(t),r=It.objectKeys(e).filter((e=>-1!==n.indexOf(e))),s={...e,...t};for(const n of r){const r=Fn(e[n],t[n]);if(!r.valid)return{valid:!1};s[n]=r.data}return{valid:!0,data:s}}if(n===Pt.array&&r===Pt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const s=Fn(e[r],t[r]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===Pt.date&&r===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Un extends en{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Vt(e)||Vt(r))return Mt;const s=Fn(e.value,r.value);return s.valid?((Ht(e)||Ht(r))&&t.dirty(),{status:t.value,value:s.data}):(Ft(n,{code:St.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Un.create=(e,t,n)=>new Un({left:e,right:t,typeName:cr.ZodIntersection,...Xt(n)});class Mn extends en{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pt.array)return Ft(n,{code:St.invalid_type,expected:Pt.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return Ft(n,{code:St.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(Ft(n,{code:St.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Wt(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Ut.mergeArray(t,e))):Ut.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Mn({...this._def,rest:e})}}Mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:e,typeName:cr.ZodTuple,rest:null,...Xt(t)})};class jn extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pt.object)return Ft(n,{code:St.invalid_type,expected:Pt.object,received:n.parsedType}),Mt;const r=[],s=this._def.keyType,i=this._def.valueType;for(const e in n.data)r.push({key:s._parse(new Wt(n,e,n.path,e)),value:i._parse(new Wt(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?Ut.mergeObjectAsync(t,r):Ut.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new jn(t instanceof en?{keyType:e,valueType:t,typeName:cr.ZodRecord,...Xt(n)}:{keyType:vn.create(),valueType:e,typeName:cr.ZodRecord,...Xt(t)})}}class Gn extends en{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pt.map)return Ft(n,{code:St.invalid_type,expected:Pt.map,received:n.parsedType}),Mt;const r=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new Wt(n,e,n.path,[i,"key"])),value:s._parse(new Wt(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,s=await n.value;if("aborted"===r.status||"aborted"===s.status)return Mt;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,s=n.value;if("aborted"===r.status||"aborted"===s.status)return Mt;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}}}Gn.create=(e,t,n)=>new Gn({valueType:t,keyType:e,typeName:cr.ZodMap,...Xt(n)});class Vn extends en{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Pt.set)return Ft(n,{code:St.invalid_type,expected:Pt.set,received:n.parsedType}),Mt;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ft(n,{code:St.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ft(n,{code:St.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Mt;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>s._parse(new Wt(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>i(e))):i(a)}min(e,t){return new Vn({...this._def,minSize:{value:e,message:Jt.toString(t)}})}max(e,t){return new Vn({...this._def,maxSize:{value:e,message:Jt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Vn.create=(e,t)=>new Vn({valueType:e,minSize:null,maxSize:null,typeName:cr.ZodSet,...Xt(t)});class Hn extends en{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Pt.function)return Ft(t,{code:St.invalid_type,expected:Pt.function,received:t.parsedType}),Mt;function n(e,n){return Dt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lt(),Rt].filter((e=>!!e)),issueData:{code:St.invalid_arguments,argumentsError:n}})}function r(e,n){return Dt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lt(),Rt].filter((e=>!!e)),issueData:{code:St.invalid_return_type,returnTypeError:n}})}const s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Kn){const e=this;return Gt((async function(...t){const a=new _t([]),o=await e._def.args.parseAsync(t,s).catch((e=>{throw a.addIssue(n(t,e)),a})),c=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(c,s).catch((e=>{throw a.addIssue(r(c,e)),a}))}))}{const e=this;return Gt((function(...t){const a=e._def.args.safeParse(t,s);if(!a.success)throw new _t([n(t,a.error)]);const o=Reflect.apply(i,this,a.data),c=e._def.returns.safeParse(o,s);if(!c.success)throw new _t([r(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Hn({...this._def,args:Mn.create(e).rest(On.create())})}returns(e){return new Hn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Hn({args:e||Mn.create([]).rest(On.create()),returns:t||On.create(),typeName:cr.ZodFunction,...Xt(n)})}}class Qn extends en{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Qn.create=(e,t)=>new Qn({getter:e,typeName:cr.ZodLazy,...Xt(t)});class zn extends en{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ft(t,{received:t.data,code:St.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Zn(e,t){return new qn({values:e,typeName:cr.ZodEnum,...Xt(t)})}zn.create=(e,t)=>new zn({value:e,typeName:cr.ZodLiteral,...Xt(t)});class qn extends en{constructor(){super(...arguments),Kt.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ft(t,{expected:It.joinValues(n),received:t.parsedType,code:St.invalid_type}),Mt}if(Zt(this,Kt,"f")||qt(this,Kt,new Set(this._def.values),"f"),!Zt(this,Kt,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ft(t,{received:t.data,code:St.invalid_enum_value,options:n}),Mt}return Gt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return qn.create(e,{...this._def,...t})}exclude(e,t=this._def){return qn.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Kt=new WeakMap,qn.create=Zn;class Jn extends en{constructor(){super(...arguments),Yt.set(this,void 0)}_parse(e){const t=It.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Pt.string&&n.parsedType!==Pt.number){const e=It.objectValues(t);return Ft(n,{expected:It.joinValues(e),received:n.parsedType,code:St.invalid_type}),Mt}if(Zt(this,Yt,"f")||qt(this,Yt,new Set(It.getValidEnumValues(this._def.values)),"f"),!Zt(this,Yt,"f").has(e.data)){const e=It.objectValues(t);return Ft(n,{received:n.data,code:St.invalid_enum_value,options:e}),Mt}return Gt(e.data)}get enum(){return this._def.values}}Yt=new WeakMap,Jn.create=(e,t)=>new Jn({values:e,typeName:cr.ZodNativeEnum,...Xt(t)});class Kn extends en{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Pt.promise&&!1===t.common.async)return Ft(t,{code:St.invalid_type,expected:Pt.promise,received:t.parsedType}),Mt;const n=t.parsedType===Pt.promise?t.data:Promise.resolve(t.data);return Gt(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Kn.create=(e,t)=>new Kn({type:e,typeName:cr.ZodPromise,...Xt(t)});class Yn extends en{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===cr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:e=>{Ft(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===r.type){const e=r.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Mt;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Mt:"dirty"===r.status||"dirty"===t.value?jt(r.value):r}));{if("aborted"===t.value)return Mt;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Mt:"dirty"===r.status||"dirty"===t.value?jt(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Mt:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Mt:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qt(e))return e;const i=r.transform(e.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Qt(e)?Promise.resolve(r.transform(e.value,s)).then((e=>({status:t.value,value:e}))):e))}It.assertNever(r)}}Yn.create=(e,t,n)=>new Yn({schema:e,typeName:cr.ZodEffects,effect:t,...Xt(n)}),Yn.createWithPreprocess=(e,t,n)=>new Yn({schema:t,effect:{type:"preprocess",transform:e},typeName:cr.ZodEffects,...Xt(n)});class Wn extends en{_parse(e){return this._getType(e)===Pt.undefined?Gt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wn.create=(e,t)=>new Wn({innerType:e,typeName:cr.ZodOptional,...Xt(t)});class $n extends en{_parse(e){return this._getType(e)===Pt.null?Gt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$n.create=(e,t)=>new $n({innerType:e,typeName:cr.ZodNullable,...Xt(t)});class Xn extends en{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Pt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Xn.create=(e,t)=>new Xn({innerType:e,typeName:cr.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Xt(t)});class er extends en{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return zt(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new _t(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new _t(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}er.create=(e,t)=>new er({innerType:e,typeName:cr.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Xt(t)});class tr extends en{_parse(e){if(this._getType(e)!==Pt.nan){const t=this._getOrReturnCtx(e);return Ft(t,{code:St.invalid_type,expected:Pt.nan,received:t.parsedType}),Mt}return{status:"valid",value:e.data}}}tr.create=e=>new tr({typeName:cr.ZodNaN,...Xt(e)});const nr=Symbol("zod_brand");class rr extends en{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class sr extends en{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Mt:"dirty"===e.status?(t.dirty(),jt(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Mt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new sr({in:e,out:t,typeName:cr.ZodPipeline})}}class ir extends en{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Qt(e)&&(e.value=Object.freeze(e.value)),e);return zt(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function ar(e,t={},n){return e?In.create().superRefine(((r,s)=>{var i,a;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(a=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===a||a,c="string"==typeof e?{message:e}:e;s.addIssue({code:"custom",...c,fatal:o})}})):In.create()}ir.create=(e,t)=>new ir({innerType:e,typeName:cr.ZodReadonly,...Xt(t)});const or={object:Rn.lazycreate};var cr;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(cr||(cr={}));const ur=vn.create,lr=bn.create,hr=tr.create,dr=An.create,fr=En.create,pr=xn.create,gr=kn.create,mr=Nn.create,yr=Tn.create,vr=In.create,wr=On.create,br=Pn.create,Ar=Cn.create,Er=Sn.create,xr=Rn.create,kr=Rn.strictCreate,Nr=Bn.create,Tr=Dn.create,Ir=Un.create,Or=Mn.create,Pr=jn.create,Cr=Gn.create,Sr=Vn.create,_r=Hn.create,Rr=Qn.create,Br=zn.create,Lr=qn.create,Dr=Jn.create,Fr=Kn.create,Ur=Yn.create,Mr=Wn.create,jr=$n.create,Gr=Yn.createWithPreprocess,Vr=sr.create,Hr={string:e=>vn.create({...e,coerce:!0}),number:e=>bn.create({...e,coerce:!0}),boolean:e=>En.create({...e,coerce:!0}),bigint:e=>An.create({...e,coerce:!0}),date:e=>xn.create({...e,coerce:!0})},Qr=Mt;var zr=Object.freeze({__proto__:null,defaultErrorMap:Rt,setErrorMap:function(e){Bt=e},getErrorMap:Lt,makeIssue:Dt,EMPTY_PATH:[],addIssueToContext:Ft,ParseStatus:Ut,INVALID:Mt,DIRTY:jt,OK:Gt,isAborted:Vt,isDirty:Ht,isValid:Qt,isAsync:zt,get util(){return It},get objectUtil(){return Ot},ZodParsedType:Pt,getParsedType:Ct,ZodType:en,datetimeRegex:mn,ZodString:vn,ZodNumber:bn,ZodBigInt:An,ZodBoolean:En,ZodDate:xn,ZodSymbol:kn,ZodUndefined:Nn,ZodNull:Tn,ZodAny:In,ZodUnknown:On,ZodNever:Pn,ZodVoid:Cn,ZodArray:Sn,ZodObject:Rn,ZodUnion:Bn,ZodDiscriminatedUnion:Dn,ZodIntersection:Un,ZodTuple:Mn,ZodRecord:jn,ZodMap:Gn,ZodSet:Vn,ZodFunction:Hn,ZodLazy:Qn,ZodLiteral:zn,ZodEnum:qn,ZodNativeEnum:Jn,ZodPromise:Kn,ZodEffects:Yn,ZodTransformer:Yn,ZodOptional:Wn,ZodNullable:$n,ZodDefault:Xn,ZodCatch:er,ZodNaN:tr,BRAND:nr,ZodBranded:rr,ZodPipeline:sr,ZodReadonly:ir,custom:ar,Schema:en,ZodSchema:en,late:or,get ZodFirstPartyTypeKind(){return cr},coerce:Hr,any:vr,array:Er,bigint:dr,boolean:fr,date:pr,discriminatedUnion:Tr,effect:Ur,enum:Lr,function:_r,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ar((t=>t instanceof e),t),intersection:Ir,lazy:Rr,literal:Br,map:Cr,nan:hr,nativeEnum:Dr,never:br,null:yr,nullable:jr,number:lr,object:xr,oboolean:()=>fr().optional(),onumber:()=>lr().optional(),optional:Mr,ostring:()=>ur().optional(),pipeline:Vr,preprocess:Gr,promise:Fr,record:Pr,set:Sr,strictObject:kr,string:ur,symbol:gr,transformer:Ur,tuple:Or,undefined:mr,union:Nr,unknown:wr,void:Ar,NEVER:Qr,ZodIssueCode:St,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:_t});const Zr=e=>e.message?e.message:"unspecified error";class qr extends wt{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:\n${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(Zr)}}function Jr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Kr(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Yr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wr(e,t){Kr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $r={number:Jr,bool:function(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:Kr,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Jr(e.outputLen),Jr(e.blockLen)},exists:Yr,output:Wr},Xr=$r,es=BigInt(2**32-1),ts=BigInt(32);function ns(e,t=!1){return t?{h:Number(e&es),l:Number(e>>ts&es)}:{h:0|Number(e>>ts&es),l:0|Number(e&es)}}function rs(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=ns(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const ss=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function is(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function as(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function os(e){return"string"==typeof e&&(e=as(e)),Kr(e),e}class cs{clone(){return this._cloneInto()}}const us=[],ls=[],hs=[],ds=BigInt(0),fs=BigInt(1),ps=BigInt(2),gs=BigInt(7),ms=BigInt(256),ys=BigInt(113);for(let e=0,t=fs,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],us.push(2*(5*r+n)),ls.push((e+1)*(e+2)/2%64);let s=ds;for(let e=0;e<7;e++)t=(t<<fs^(t>>gs)*ys)%ms,t&ps&&(s^=fs<<(fs<<BigInt(e))-fs);hs.push(s)}const[vs,ws]=rs(hs,!0),bs=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),As=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Es extends cs{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Jr(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){ss||is(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],a=n[s+1],o=bs(i,a,1)^n[r],c=As(i,a,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=ls[n],i=bs(t,s,r),a=As(t,s,r),o=us[n];t=e[o],s=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=vs[r],e[1]^=ws[r]}n.fill(0)}(this.state32,this.rounds),ss||is(this.state32),this.posOut=0,this.pos=0}update(e){Yr(this);const{blockLen:t,state:n}=this,r=(e=os(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Yr(this,!1),Kr(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wr(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new Es(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const xs=(e,t,n)=>function(e){const t=t=>e().update(os(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new Es(t,e,n))),ks=xs(1,144,28),Ns=xs(1,136,32),Ts=xs(1,104,48),Is=xs(1,72,64);function Os(e){return t=>(Xr.bytes(t),e(t))}Xr.bool,Xr.bytes,(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),Os(ks);const Ps=(()=>{const e=Os(Ns);return e.create=Ns.create,e})(),Cs=(Os(Ts),Os(Is),["bool","int","uint","bytes","string","address","tuple"]),Ss=e=>"object"==typeof e&&"type"in e&&"name"in e,_s=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e),Rs=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Bs=e=>{let t,n=e.replace(/ /,""),r=!1,s=[];if(e.includes("[")&&(n=n.slice(0,n.indexOf("[")),s=[...e.matchAll(/(?:\[(\d*)\])/g)].map((e=>parseInt(e[1],10))).map((e=>Number.isNaN(e)?-1:e)),r=s.length>0),Cs.includes(n))return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:s};if(n.startsWith("int"))t=parseInt(n.substring(3),10),n="int";else if(n.startsWith("uint"))t=parseInt(e.substring(4),10),n="uint";else{if(!n.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};t=parseInt(n.substring(5),10),n="bytes"}return{baseType:n,isArray:r,baseTypeSize:t,arraySizes:s}},Ls=(e,t={})=>{if(Object.keys(t).includes("type"))throw new qr([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:n,baseTypeSize:r}=Bs(e);if(!n&&!Rs.includes(e))throw new qr([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(n){if("tuple"===n)throw new Error('"tuple" type is not implemented directly.');return{format:`${n}${null!=r?r:""}`,required:!0}}return e?{format:e,required:!0}:{}},Ds=(e,t="/0")=>{const n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[r,s]of e.entries()){let e,i,a=[];Ss(s)?(e=s.type,i=s.name||`${t}/${r}`,a=s.components):"string"==typeof s?(e=s,i=`${t}/${r}`):Array.isArray(s)&&(s[0]&&"string"==typeof s[0]&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(e=s[0],i=`${t}/${r}`,a=s[1]):(e="tuple",i=`${t}/${r}`,a=s));const{baseType:o,isArray:c,arraySizes:u}=Bs(e);let l,h=n;for(let e=u.length-1;e>0;e-=1)l={type:"array",$id:i,items:[],maxItems:u[e],minItems:u[e]},u[e]<0&&(delete l.maxItems,delete l.minItems),Array.isArray(h.items)?0===h.items.length?h.items=[l]:h.items.push(l):h.items=[h.items,l],h=l;if("tuple"!==o||c)if("tuple"===o&&c){const e=u[0],t=Object.assign({type:"array",$id:i,items:Ds(a,i)},e>=0&&{minItems:e,maxItems:e});h.items.push(t)}else if(c){const t=u[0],n=Object.assign({type:"array",$id:i,items:Ls(e)},t>=0&&{minItems:t,maxItems:t});h.items.push(n)}else Array.isArray(h.items),h.items.push(Object.assign({$id:i},Ls(e)));else{const e=Ds(a,i);e.$id=i,h.items.push(e)}h=n}return n},Fs=e=>{if(!_s(e))throw new Error("Invalid hex string");const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?t?-r:r:r<Number.MIN_SAFE_INTEGER?r:t?-1*Number(r):Number(r)};function Us(e){let t="0x";for(const n of e){const e=n.toString(16);t+=1===e.length?`0${e}`:e}return t}const Ms=48,js=57,Gs=65,Vs=70,Hs=97,Qs=102;function zs(e){return e>=Ms&&e<=js?e-Ms:e>=Gs&&e<=Vs?e-(Gs-10):e>=Hs&&e<=Qs?e-(Hs-10):void 0}const Zs=e=>{var t,n;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name)},qs=(e,t={abiType:"bytes"})=>{if("string"!=typeof e&&!Array.isArray(e)&&!Zs(e))return!1;if("string"==typeof e&&_s(e)&&e.startsWith("-"))return!1;if("string"==typeof e&&!_s(e))return!1;let n;if("string"==typeof e){if(e.length%2!=0)return!1;n=function(e){let t=0;if(!e.startsWith("0")||"x"!==e[1]&&"X"!==e[1]||(t=2),e.length%2!=0)throw new Et(`hex string has odd length: ${e}`);const n=(e.length-t)/2,r=new Uint8Array(n);for(let s=0,i=t;s<n;s+=1){const t=zs(e.charCodeAt(i++)),n=zs(e.charCodeAt(i++));if(void 0===t||void 0===n)throw new Et(`Invalid byte sequence ("${e[i-2]}${e[i-1]}" in "${e}").`);r[s]=16*t+n}return r}(e)}else if(Array.isArray(e)){if(e.some((e=>e<0||e>255||!Number.isInteger(e))))return!1;n=new Uint8Array(e)}else n=e;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=Bs(t.abiType);return!e||n.length===e}return!(null==t?void 0:t.size)||n.length===(null==t?void 0:t.size)},Js=(e,t=!0)=>{if("string"!=typeof e&&!Zs(e))return!1;let n;return n=Zs(e)?Us(e):"string"!=typeof e||_s(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(n)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(n)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(n))||!t||(e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),n=as(t.toLowerCase()),r=Us(Ps(function(e){var t;return e instanceof Uint8Array||"Uint8Array"!==(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)?e:Uint8Array.from(e)}(n))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||parseInt(r[e],16)<=7&&t[e].toLowerCase()!==t[e])return!1;return!0})(n))};var Ks,Ys,Ws,$s;!function(e){e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT"}(Ks||(Ks={})),function(e){e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY"}(Ys||(Ys={})),Ks.BIGINT,Ys.HEX,Ks.HEX,Ys.HEX,function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized"}(Ws||(Ws={})),function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"}($s||($s={})),Object.getPrototypeOf(Uint8Array),Symbol.for("web3/base-provider");const Xs=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let r=1;r<t;r+=1)n*=e;return n},ei=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e}=Bs(t.abiType);e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=Xs(BigInt(2),BigInt(null!=n?n:256))-BigInt(1);try{const t="string"==typeof e&&_s(e)?BigInt(Fs(e)):BigInt(e);return t>=0&&t<=r}catch(e){return!1}},ti=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e))return!1;if("number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;let n;if(null==t?void 0:t.abiType){const{baseTypeSize:e,baseType:r}=Bs(t.abiType);if("int"!==r)return!1;e&&(n=e)}else t.bitSize&&(n=t.bitSize);const r=Xs(BigInt(2),BigInt((null!=n?n:256)-1)),s=BigInt(-1)*Xs(BigInt(2),BigInt((null!=n?n:256)-1));try{const t="string"==typeof e&&_s(e)?BigInt(Fs(e)):BigInt(e);return t>=s&&t<=r}catch(e){return!1}},ni=e=>ei(e),ri=e=>Object.values(Ws).includes(e),si=e=>ri(e)||ni(e),ii=e=>null==e,ai=e=>!("string"!=typeof e||!/^(0x)?[0-9a-f]{64}$/i.test(e)||!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e)),oi={address:e=>Js(e),bloom:e=>{return!("string"!=typeof(t=e)||!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t));var t},blockNumber:e=>ni(e),blockTag:e=>ri(e),blockNumberOrTag:e=>si(e),bool:e=>{return!!["number","string","boolean"].includes(typeof(t=e))&&("boolean"==typeof t||("string"!=typeof t||_s(t)?"string"==typeof t&&_s(t)?"0x1"===t||"0x0"===t:1===t||0===t:"1"===t||"0"===t));var t},bytes:e=>qs(e),filter:e=>(e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(ii(e)||"object"!=typeof e)return!1;if(!Object.keys(e).every((e=>t.includes(e))))return!1;if(!ii(e.fromBlock)&&!si(e.fromBlock)||!ii(e.toBlock)&&!si(e.toBlock))return!1;if(!ii(e.address))if(Array.isArray(e.address)){if(!e.address.every((e=>Js(e))))return!1}else if(!Js(e.address))return!1;return!(!ii(e.topics)&&!e.topics.every((e=>!!ii(e)||(Array.isArray(e)?e.every((e=>ai(e))):!!ai(e)))))})(e),hex:e=>_s(e),uint:e=>ei(e),int:e=>ti(e),number:e=>{return!!ti(t=e)||!("string"!=typeof t||!/[0-9.]/.test(t)||t.indexOf(".")!==t.lastIndexOf("."))||"number"==typeof t;var t},string:e=>"string"==typeof e};for(let e=8;e<=256;e+=8)oi[`int${e}`]=t=>ti(t,{bitSize:e}),oi[`uint${e}`]=t=>ei(t,{bitSize:e});for(let e=1;e<=32;e+=1)oi[`bytes${e}`]=t=>qs(t,{size:e});oi.bytes256=oi.bytes;const ci=oi,ui=e=>{if((!(null==e?void 0:e.type)||"object"===(null==e?void 0:e.type))&&(null==e?void 0:e.properties)){const t={};for(const n of Object.keys(e.properties)){const r=ui(e.properties[n]);r&&(t[n]=r)}return Array.isArray(e.required)?zr.object(t).partial().required(e.required.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{})):zr.object(t).partial()}if("array"===(null==e?void 0:e.type)&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map((e=>e.$id))).size===e.items.length){const t=[];for(const n of e.items){const e=ui(n);e&&t.push(e)}return zr.tuple(t)}const t=Array.isArray(e.items)?e.items[0]:e.items;let n=zr.array(ui(t));return n=void 0!==e.minItems?n.min(e.minItems):n,n=void 0!==e.maxItems?n.max(e.maxItems):n,n}if(e.oneOf&&Array.isArray(e.oneOf))return zr.union(e.oneOf.map((e=>ui(e))));if(null==e?void 0:e.format){if(!ci[e.format])throw new Tt(e.format);return zr.any().refine(ci[e.format],(t=>({params:{value:t,format:e.format}})))}return(null==e?void 0:e.type)&&"object"!==(null==e?void 0:e.type)&&"function"==typeof zr[String(e.type)]?zr[String(e.type)]():zr.object({data:zr.any()}).partial()};class li{static factory(){return li.validatorInstance||(li.validatorInstance=new li),li.validatorInstance}validate(e,t,n){var r,s;const i=ui(e).safeParse(t);if(!i.success){const e=this.convertErrors(null!==(s=null===(r=i.error)||void 0===r?void 0:r.issues)&&void 0!==s?s:[]);if(e){if(null==n?void 0:n.silent)return e;throw new qr(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map((e=>{var t;let n,r,s,i;i=e.path.join("/");const a=String(e.path[e.path.length-1]),o=e.path.join("/");if(e.code===St.too_big)r="maxItems",i=`${o}/maxItems`,s={limit:e.maximum},n=`must NOT have more than ${e.maximum} items`;else if(e.code===St.too_small)r="minItems",i=`${o}/minItems`,s={limit:e.minimum},n=`must NOT have fewer than ${e.minimum} items`;else if(e.code===St.custom){const{value:r,format:a}=null!==(t=e.params)&&void 0!==t?t:{};n=void 0===r?`value at "/${i}" is required`:`value "${"object"==typeof r?JSON.stringify(r):r}" at "/${i}" must pass "${a}" validation`,s={value:r}}return{keyword:null!=r?r:a,instancePath:o?`/${o}`:"",schemaPath:i?`#${i}`:"#",params:null!=s?s:{value:e.message},message:null!=n?n:e.message}}))}}function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function di(){di=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function w(){}var b={};u(b,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(S([])));E&&E!==n&&r.call(E,a)&&(b=E);var x=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(s,i,a,o){var c=h(e[s],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==hi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function T(t,n,r){var s=d;return function(i,a){if(s===p)throw Error("Generator is already running");if(s===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var c=I(o,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var u=h(t,n,r);if("normal"===u.type){if(s=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(s=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(hi(t)+" is not iterable")}return v.prototype=w,s(x,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(N.prototype),u(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var a=new N(l(e,n,r,s),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;P(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function fi(e,t,n,r,s,i,a){try{var o=e[i](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function pi(e,t){if(!e)throw console.error("".concat(t)),console.error((new Error).stack),new Error("".concat(t));return e}function gi(e){return!!Js(e)||(console.error("Invalid address",e),console.error((new Error).stack),!1)}function mi(e){return!!(e>=0&&Number.isInteger(e))||(console.error("Invalid token ID",e),console.error((new Error).stack),!1)}function yi(e){return vi.apply(this,arguments)}function vi(){return vi=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){fi(i,r,s,a,o,"next",e)}function o(e){fi(i,r,s,a,o,"throw",e)}a(void 0)}))}}(di().mark((function e(t){var n,r,s,i,a=arguments;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:1,s=(r=a.length>2&&void 0!==a[2]?a[2]:100)+Math.random()*r,e.prev=3,i=0;case 5:if(!(i<n)){e.next=22;break}return e.prev=6,e.next=9,t();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),console.log("With function ".concat(t.name,":"),e.t0),console.log("Retrying in ".concat(s,"ms...")),e.next=18,new Promise((function(e){return setTimeout(e,s)}));case 18:s*=2;case 19:i++,e.next=5;break;case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e.catch(3),console.error("Error after ".concat(n," retries:"),e.t1),e.t1;case 28:case"end":return e.stop()}}),e,null,[[3,24],[6,12]])}))),vi.apply(this,arguments)}var wi;function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function Ai(){Ai=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function w(){}var b={};u(b,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(S([])));E&&E!==n&&r.call(E,a)&&(b=E);var x=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(s,i,a,o){var c=h(e[s],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==bi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function T(t,n,r){var s=d;return function(i,a){if(s===p)throw Error("Generator is already running");if(s===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var c=I(o,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var u=h(t,n,r);if("normal"===u.type){if(s=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(s=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(bi(t)+" is not iterable")}return v.prototype=w,s(x,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(N.prototype),u(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var a=new N(l(e,n,r,s),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;P(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ei(e,t,n,r,s,i,a){try{var o=e[i](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function xi(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){Ei(i,r,s,a,o,"next",e)}function o(e){Ei(i,r,s,a,o,"throw",e)}a(void 0)}))}}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ni(r.key),r)}}function Ni(e){var t=function(e){if("object"!=bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bi(t)?t:t+""}new class{constructor(){this._validator=li.factory()}validateJSONSchema(e,t,n){return this._validator.validate(e,t,n)}validate(e,t,n={silent:!1}){var r,s;const i=Ds(e);if(!Array.isArray(i.items)||0!==(null===(r=i.items)||void 0===r?void 0:r.length)||0!==t.length){if(Array.isArray(i.items)&&0===(null===(s=i.items)||void 0===s?void 0:s.length)&&0!==t.length)throw new qr([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(i,t,n)}}};var Ti=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.goldskyApi=pi(t,"Goldsky API not provided"),this.walletAddress=pi(n.toLowerCase(),"Wallet address not provided"),gi(n)},t=[{key:"fetchUserNft",value:(r=xi(Ai().mark((function e(){var t,n,r,s=this;return Ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=pi,e.next=4,this.fetchUserTransfers();case 4:return e.t1=e.sent,(t=(0,e.t0)(e.t1,"Transfers not found")).sort((function(e,t){return parseInt(e.block_number)-parseInt(t.block_number)})),n={},t.forEach((function(e){e.to.toLowerCase()===s.walletAddress.toLowerCase()?n[e.tokenId]=!0:e.from.toLowerCase()===s.walletAddress.toLowerCase()&&(n[e.tokenId]=!1)})),r=Object.keys(n).filter((function(e){return n[e]})),e.abrupt("return",r);case 13:throw e.prev=13,e.t2=e.catch(0),console.error("Error fetching user NFTs:",e.t2),e.t2;case 17:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return r.apply(this,arguments)})},{key:"fetchUserTransfers",value:(n=xi(Ai().mark((function e(){var t,n;return Ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe(this.goldskyApi,this._buildQuery(this.walletAddress));case 3:return t=e.sent,n=t.transfers,console.log("Transfers:",n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error fetching transfers:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:"_buildQuery",value:function(e){return((e,...t)=>e.reduce(((e,n,r)=>`${e}${n}${r in t?String(t[r]):""}`),""))(wi||(t=['\n      query {\n        transfers(\n          first: 100\n          where: {\n            or: [\n              { to: "','" }\n              { from: "','" }\n            ]\n          }\n        ) {\n          id\n          to\n          from\n          block_number\n          tokenId\n        }\n      }\n    '],n||(n=t.slice(0)),wi=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),e,e);var t,n}}],t&&ki(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();const Ii=Ti;function Oi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Pi(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ci(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Si(e,t){Pi(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const _i=BigInt(2**32-1),Ri=BigInt(32);function Bi(e,t=!1){return t?{h:Number(e&_i),l:Number(e>>Ri&_i)}:{h:0|Number(e>>Ri&_i),l:0|Number(e&_i)}}function Li(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=Bi(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const Di=(e,t,n)=>e<<n|t>>>32-n,Fi=(e,t,n)=>t<<n|e>>>32-n,Ui=(e,t,n)=>t<<n-32|e>>>64-n,Mi=(e,t,n)=>e<<n-32|t>>>64-n,ji={fromBig:Bi,split:Li,toBig:(e,t)=>BigInt(e>>>0)<<Ri|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Di,rotlSL:Fi,rotlBH:Ui,rotlBL:Mi,add:function(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},Gi="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Vi=e=>e instanceof Uint8Array,Hi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Qi=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function zi(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Vi(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Zi{clone(){return this._cloneInto()}}function qi(e){const t=t=>e().update(zi(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ji(e=32){if(Gi&&"function"==typeof Gi.getRandomValues)return Gi.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Ki,Yi,Wi]=[[],[],[]],$i=BigInt(0),Xi=BigInt(1),ea=BigInt(2),ta=BigInt(7),na=BigInt(256),ra=BigInt(113);for(let e=0,t=Xi,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ki.push(2*(5*r+n)),Yi.push((e+1)*(e+2)/2%64);let s=$i;for(let e=0;e<7;e++)t=(t<<Xi^(t>>ta)*ra)%na,t&ea&&(s^=Xi<<(Xi<<BigInt(e))-Xi);Wi.push(s)}const[sa,ia]=Li(Wi,!0),aa=(e,t,n)=>n>32?Ui(e,t,n):Di(e,t,n),oa=(e,t,n)=>n>32?Mi(e,t,n):Fi(e,t,n);class ca extends Zi{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Oi(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,i=n[s],a=n[s+1],o=aa(i,a,1)^n[r],c=oa(i,a,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Yi[n],i=aa(t,s,r),a=oa(t,s,r),o=Ki[n];t=e[o],s=e[o+1],e[o]=i,e[o+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=sa[r],e[1]^=ia[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ci(this);const{blockLen:t,state:n}=this,r=(e=zi(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Ci(this,!1),Pi(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Oi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Si(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new ca(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const ua=((e,t,n)=>qi((()=>new ca(t,e,n))))(1,136,32),la="6.13.2";function ha(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let n=0;n<r.length;n++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=e,s}async function da(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function fa(e,t,n){for(let r in t){let s=t[r];const i=n?n[r]:null;i&&ha(s,i,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function pa(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(pa).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"==typeof e&&"function"==typeof e.toJSON)return pa(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${pa(t)}: ${pa(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ga(e,t){return e&&e.code===t}function ma(e){return ga(e,"CALL_EXCEPTION")}function ya(e,t,n){let r,s=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${pa(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+pa(t))}}r.push(`code=${t}`),r.push(`version=${la}`),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return fa(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&fa(r,{shortMessage:s}),r}function va(e,t,n,r){if(!e)throw ya(t,n,r)}function wa(e,t,n,r){va(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function ba(e,t,n){null==n&&(n=""),n&&(n=": "+n),va(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),va(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Aa=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function Ea(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),va(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function xa(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}wa(!1,"invalid BytesLike value",t||"value",e)}function ka(e,t){return xa(e,t,!1)}function Na(e,t){return xa(e,t,!0)}function Ta(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function Ia(e){return Ta(e,!0)||e instanceof Uint8Array}const Oa="0123456789abcdef";function Pa(e){const t=ka(e);let n="0x";for(let e=0;e<t.length;e++){const r=t[e];n+=Oa[(240&r)>>4]+Oa[15&r]}return n}function Ca(e){return"0x"+e.map((e=>Pa(e).substring(2))).join("")}function Sa(e){return Ta(e,!0)?(e.length-2)/2:ka(e).length}function _a(e,t,n){const r=ka(e);return null!=n&&n>r.length&&va(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Pa(r.slice(null==t?0:t,null==n?r.length:n))}function Ra(e,t,n){const r=ka(e);va(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),Pa(s)}function Ba(e,t){return Ra(e,t,!0)}let La=!1;const Da=function(e){return ua(e)};let Fa=Da;function Ua(e){const t=ka(e,"data");return Pa(Fa(t))}Ua._=Da,Ua.lock=function(){La=!0},Ua.register=function(e){if(La)throw new TypeError("keccak256 is locked");Fa=e},Object.freeze(Ua);const Ma=BigInt(0),ja=BigInt(36);function Ga(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=ka(Ua(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Va={};for(let e=0;e<10;e++)Va[String(e)]=String(e);for(let e=0;e<26;e++)Va[String.fromCharCode(65+e)]=String(10+e);const Ha=15;const Qa=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function za(e){if(wa("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Ga(e);return wa(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){wa(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Va[e])).join("");for(;t.length>=Ha;){let e=t.substring(0,Ha);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Ma;for(let n=0;n<e.length;n++)t=t*ja+Qa[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Ga("0x"+t)}wa(!1,"invalid address","address",e)}function Za(e,t){return{address:za(e),storageKeys:t.map(((e,t)=>(wa(Ta(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function qa(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(wa(2===t.length,"invalid slot set",`value[${n}]`,t),Za(t[0],t[1])):(wa(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),Za(t.address,t.storageKeys))));wa(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Za(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}const Ja=BigInt(0),Ka=BigInt(1),Ya=9007199254740991;function Wa(e,t){let n=Xa(e,"value");const r=BigInt(ro(t,"width")),s=Ka<<r-Ka;return n<Ja?(n=-n,va(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~n&(Ka<<r)-Ka)+Ka):(va(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n)}function $a(e,t){const n=eo(e,"value"),r=BigInt(ro(t,"bits"));return n&(Ka<<r)-Ka}function Xa(e,t){switch(typeof e){case"bigint":return e;case"number":return wa(Number.isInteger(e),"underflow",t||"value",e),wa(e>=-Ya&&e<=Ya,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){wa(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}wa(!1,"invalid BigNumberish value",t||"value",e)}function eo(e,t){const n=Xa(e,t);return va(n>=Ja,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const to="0123456789abcdef";function no(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=to[n>>4],t+=to[15&n];return BigInt(t)}return Xa(e)}function ro(e,t){switch(typeof e){case"bigint":return wa(e>=-Ya&&e<=Ya,"overflow",t||"value",e),Number(e);case"number":return wa(Number.isInteger(e),"underflow",t||"value",e),wa(e>=-Ya&&e<=Ya,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return ro(BigInt(e),t)}catch(n){wa(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}wa(!1,"invalid numeric value",t||"value",e)}function so(e,t){let n=eo(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=ro(t,"width");for(va(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function io(e){const t=eo(e,"value");if(t===Ja)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=2*e;r[e]=parseInt(n.substring(t,t+2),16)}return r}function ao(e){let t=Pa(Ia(e)?e:io(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}class oo{name;constructor(e){fa(this,{name:e})}clone(){return new oo(this.name)}}class co extends oo{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let s=(t||{})[e];null==s&&(s=r),wa("number"==typeof s,`invalud value for ${e}`,"costs",t),n[e]=s}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),fa(this,n)}clone(){return new co(this.effectiveBlock,this)}}class uo extends oo{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),fa(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new uo(this.address,this.targetNetwork)}}class lo extends oo{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const ho=new Map;class fo{#n;#r;#s;constructor(e,t){this.#n=e,this.#r=Xa(t),this.#s=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#n}set name(e){this.#n=e}get chainId(){return this.#r}set chainId(e){this.#r=Xa(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===Xa(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===Xa(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===Xa(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#s.values())}attachPlugin(e){if(this.#s.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#s.set(e.name,e.clone()),this}getPlugin(e){return this.#s.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new fo(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new co;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=qa(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){function e(e,t,n){const r=function(){const r=new fo(e,t);return null!=n.ensNetwork&&r.attachPlugin(new uo(null,n.ensNetwork)),r.attachPlugin(new co),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};fo.register(e,r),fo.register(t,r),n.altNames&&n.altNames.forEach((e=>{fo.register(e,r)}))}mo||(mo=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[go("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[go("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}))}(),null==e)return fo.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=ho.get(e);if(t)return t();if("bigint"==typeof e)return new fo("unknown",e);wa(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){wa("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new fo(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new uo(e.ensAddress,e.ensNetwork)),t}wa(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const n=ho.get(e);n&&wa(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),ho.set(e,t)}}function po(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function go(e){return new lo(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,s]=await Promise.all([n.send(),e()]);r=t;const i=r.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:po(i.maxFee,9),maxPriorityFeePerGas:po(i.maxPriorityFee,9)}}catch(e){va(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:e})}}))}let mo=!1;function yo(e,t,n,r,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const vo=Object.freeze({error:function(e,t,n,r,s){wa(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:yo,replace:function(e,t,n,r,s){return"OVERLONG"===e?(wa("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),yo(e,t,n))}});function wo(e,t){wa("string"==typeof e,"invalid string value","str",e),null!=t&&(function(e){va(Aa.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const s=e.charCodeAt(t);wa(t<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const i=65536+((1023&r)<<10)+(1023&s);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return new Uint8Array(n)}function bo(e,t){return function(e,t){null==t&&(t=vo.error);const n=ka(e,"bytes"),r=[];let s=0;for(;s<n.length;){const e=n[s++];if(!(e>>7)){r.push(e);continue}let i=null,a=null;if(192==(224&e))i=1,a=127;else if(224==(240&e))i=2,a=2047;else{if(240!=(248&e)){s+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,n,r);continue}i=3,a=65535}if(s-1+i>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let o=e&(1<<8-i-1)-1;for(let e=0;e<i;e++){let e=n[s];if(128!=(192&e)){s+=t("MISSING_CONTINUE",s,n,r),o=null;break}o=o<<6|63&e,s++}null!==o&&(o>1114111?s+=t("OUT_OF_RANGE",s-1-i,n,r,o):o>=55296&&o<=57343?s+=t("UTF16_SURROGATE",s-1-i,n,r,o):o<=a?s+=t("OVERLONG",s-1-i,n,r,o):r.push(o))}return r}(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function Ao(e){return Ua(wo(e))}const Eo=32,xo=new Uint8Array(Eo),ko=["then"],No={},To=new WeakMap;function Io(e){return To.get(e)}function Oo(e,t){To.set(e,t)}function Po(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function Co(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof So?Co(Io(e),e,n):e)):e.reduce(((e,r,s)=>{let i=t.getValue(r);return r in e||(n&&i instanceof So&&(i=Co(Io(i),i,n)),e[r]=i),e}),{})}class So extends Array{#i;constructor(...e){const t=e[0];let n=e[1],r=(e[2]||[]).slice(),s=!0;t!==No&&(n=e,r=[],s=!1),super(n.length),n.forEach(((e,t)=>{this[t]=e}));const i=r.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(Oo(this,Object.freeze(n.map(((e,t)=>{const n=r[t];return null!=n&&1===i.get(n)?n:null})))),this.#i=[],null==this.#i&&this.#i,!s)return;Object.freeze(this);const a=new Proxy(this,{get:(e,t,n)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const n=ro(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Po(`index ${n}`,r),r}if(ko.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(...t){return r.apply(this===n?e:this,t)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Oo(a,Io(this)),a}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&Po(`index ${r}`,n),e&&n instanceof So&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=Io(this);return t.reduce(((n,r,s)=>(va(null!=r,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Co(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Io(this),r=[],s=[];for(let i=e;i<t;i++)r.push(this[i]),s.push(n[i]);return new So(No,r,s)}filter(e,t){const n=Io(this),r=[],s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Po(`index ${i}`,a),e.call(t,a,i,this)&&(r.push(a),s.push(n[i]))}return new So(No,r,s)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&Po(`index ${r}`,s),n.push(e.call(t,s,r,this))}return n}getValue(e){const t=Io(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Po(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new So(No,e,t)}}function _o(e){let t=io(e);return va(t.length<=Eo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Eo,offset:t.length}),t.length!==Eo&&(t=Na(Ca([xo.slice(t.length%Eo),t]))),t}class Ro{name;type;localName;dynamic;constructor(e,t,n,r){fa(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){wa(!1,e,this.localName,t)}}class Bo{#a;#o;constructor(){this.#a=[],this.#o=0}get data(){return Ca(this.#a)}get length(){return this.#o}#c(e){return this.#a.push(e),this.#o+=e.length,e.length}appendWriter(e){return this.#c(Na(e.data))}writeBytes(e){let t=Na(e);const n=t.length%Eo;return n&&(t=Na(Ca([t,xo.slice(n)]))),this.#c(t)}writeValue(e){return this.#c(_o(e))}writeUpdatableValue(){const e=this.#a.length;return this.#a.push(xo),this.#o+=Eo,t=>{this.#a[e]=_o(t)}}}class Lo{allowLoose;#a;#u;#l;#h;#d;constructor(e,t,n){fa(this,{allowLoose:!!t}),this.#a=Na(e),this.#l=0,this.#h=null,this.#d=null!=n?n:1024,this.#u=0}get data(){return Pa(this.#a)}get dataLength(){return this.#a.length}get consumed(){return this.#u}get bytes(){return new Uint8Array(this.#a)}#f(e){if(this.#h)return this.#h.#f(e);this.#l+=e,va(this.#d<1||this.#l<=this.#d*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#d} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Na(this.#a),offset:this.#u,length:e,info:{bytesRead:this.#l,dataLength:this.dataLength}})}#p(e,t,n){let r=Math.ceil(t/Eo)*Eo;return this.#u+r>this.#a.length&&(this.allowLoose&&n&&this.#u+t<=this.#a.length?r=t:va(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Na(this.#a),length:this.#a.length,offset:this.#u+r})),this.#a.slice(this.#u,this.#u+r)}subReader(e){const t=new Lo(this.#a.slice(this.#u+e),this.allowLoose,this.#d);return t.#h=this,t}readBytes(e,t){let n=this.#p(0,e,!!t);return this.#f(e),this.#u+=n.length,n.slice(0,e)}readValue(){return no(this.readBytes(Eo))}readIndex(){return ro(no(this.readBytes(Eo)))}}const Do={};function Fo(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new jo(Do,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function Uo(e,t){return new jo(Do,`bytes${t||""}`,e,{size:t})}const Mo=Symbol.for("_ethers_typed");class jo{type;value;#g;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),Ea(Do,e,"Typed"),fa(this,{_typedSymbol:Mo,type:t,value:n}),this.#g=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#g}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#g?-1:!1===this.#g?this.value.length:null}static from(e,t){return new jo(Do,e,t)}static uint8(e){return Fo(e,8)}static uint16(e){return Fo(e,16)}static uint24(e){return Fo(e,24)}static uint32(e){return Fo(e,32)}static uint40(e){return Fo(e,40)}static uint48(e){return Fo(e,48)}static uint56(e){return Fo(e,56)}static uint64(e){return Fo(e,64)}static uint72(e){return Fo(e,72)}static uint80(e){return Fo(e,80)}static uint88(e){return Fo(e,88)}static uint96(e){return Fo(e,96)}static uint104(e){return Fo(e,104)}static uint112(e){return Fo(e,112)}static uint120(e){return Fo(e,120)}static uint128(e){return Fo(e,128)}static uint136(e){return Fo(e,136)}static uint144(e){return Fo(e,144)}static uint152(e){return Fo(e,152)}static uint160(e){return Fo(e,160)}static uint168(e){return Fo(e,168)}static uint176(e){return Fo(e,176)}static uint184(e){return Fo(e,184)}static uint192(e){return Fo(e,192)}static uint200(e){return Fo(e,200)}static uint208(e){return Fo(e,208)}static uint216(e){return Fo(e,216)}static uint224(e){return Fo(e,224)}static uint232(e){return Fo(e,232)}static uint240(e){return Fo(e,240)}static uint248(e){return Fo(e,248)}static uint256(e){return Fo(e,256)}static uint(e){return Fo(e,256)}static int8(e){return Fo(e,-8)}static int16(e){return Fo(e,-16)}static int24(e){return Fo(e,-24)}static int32(e){return Fo(e,-32)}static int40(e){return Fo(e,-40)}static int48(e){return Fo(e,-48)}static int56(e){return Fo(e,-56)}static int64(e){return Fo(e,-64)}static int72(e){return Fo(e,-72)}static int80(e){return Fo(e,-80)}static int88(e){return Fo(e,-88)}static int96(e){return Fo(e,-96)}static int104(e){return Fo(e,-104)}static int112(e){return Fo(e,-112)}static int120(e){return Fo(e,-120)}static int128(e){return Fo(e,-128)}static int136(e){return Fo(e,-136)}static int144(e){return Fo(e,-144)}static int152(e){return Fo(e,-152)}static int160(e){return Fo(e,-160)}static int168(e){return Fo(e,-168)}static int176(e){return Fo(e,-176)}static int184(e){return Fo(e,-184)}static int192(e){return Fo(e,-192)}static int200(e){return Fo(e,-200)}static int208(e){return Fo(e,-208)}static int216(e){return Fo(e,-216)}static int224(e){return Fo(e,-224)}static int232(e){return Fo(e,-232)}static int240(e){return Fo(e,-240)}static int248(e){return Fo(e,-248)}static int256(e){return Fo(e,-256)}static int(e){return Fo(e,-256)}static bytes1(e){return Uo(e,1)}static bytes2(e){return Uo(e,2)}static bytes3(e){return Uo(e,3)}static bytes4(e){return Uo(e,4)}static bytes5(e){return Uo(e,5)}static bytes6(e){return Uo(e,6)}static bytes7(e){return Uo(e,7)}static bytes8(e){return Uo(e,8)}static bytes9(e){return Uo(e,9)}static bytes10(e){return Uo(e,10)}static bytes11(e){return Uo(e,11)}static bytes12(e){return Uo(e,12)}static bytes13(e){return Uo(e,13)}static bytes14(e){return Uo(e,14)}static bytes15(e){return Uo(e,15)}static bytes16(e){return Uo(e,16)}static bytes17(e){return Uo(e,17)}static bytes18(e){return Uo(e,18)}static bytes19(e){return Uo(e,19)}static bytes20(e){return Uo(e,20)}static bytes21(e){return Uo(e,21)}static bytes22(e){return Uo(e,22)}static bytes23(e){return Uo(e,23)}static bytes24(e){return Uo(e,24)}static bytes25(e){return Uo(e,25)}static bytes26(e){return Uo(e,26)}static bytes27(e){return Uo(e,27)}static bytes28(e){return Uo(e,28)}static bytes29(e){return Uo(e,29)}static bytes30(e){return Uo(e,30)}static bytes31(e){return Uo(e,31)}static bytes32(e){return Uo(e,32)}static address(e){return new jo(Do,"address",e)}static bool(e){return new jo(Do,"bool",!!e)}static bytes(e){return new jo(Do,"bytes",e)}static string(e){return new jo(Do,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new jo(Do,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===Mo}static dereference(e,t){if(jo.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class Go extends Ro{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=jo.dereference(t,"string");try{n=za(n)}catch(e){return this._throwError(e.message,t)}return e.writeValue(n)}decode(e){return za(so(e.readValue(),20))}}class Vo extends Ro{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Ho(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return va(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),va(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else wa(!1,"invalid tuple value","tuple",n);wa(t.length===r.length,"types/value length mismatch","tuple",n);let s=new Bo,i=new Bo,a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=i.length;e.encode(i,n);let r=s.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(s,n)})),a.forEach((e=>{e(s.length)}));let o=e.appendWriter(s);return o+=e.appendWriter(i),o}function Qo(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readIndex(),r=s.subReader(n);try{i=t.decode(r)}catch(e){if(ga(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(ga(e,"BUFFER_OVERRUN"))throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}if(null==i)throw new Error("investigate");n.push(i),r.push(t.localName||null)})),So.fromItems(n,r)}class zo extends Ro{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),fa(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=jo.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),ba(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let e=0;e<n.length;e++)s.push(this.coder);return Ho(e,s,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),va(t*Eo<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Eo,length:e.dataLength}));let n=[];for(let e=0;e<t;e++)n.push(new Vo(this.coder));return Qo(e,n)}}class Zo extends Ro{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=jo.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class qo extends Ro{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Na(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Jo extends qo{constructor(e){super("bytes",e)}decode(e){return Pa(super.decode(e))}}class Ko extends Ro{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),fa(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Na(jo.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Pa(e.readBytes(this.size))}}const Yo=new Uint8Array([]);class Wo extends Ro{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Yo)}decode(e){return e.readBytes(0),null}}const $o=BigInt(0),Xo=BigInt(1),ec=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class tc extends Ro{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),fa(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Xa(jo.dereference(t,this.type)),r=$a(ec,256);if(this.signed){let e=$a(r,8*this.size-1);(n>e||n<-(e+Xo))&&this._throwError("value out-of-bounds",t),n=Wa(n,256)}else(n<$o||n>$a(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=$a(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const n=eo(e,"value"),r=BigInt(ro(t,"width"));return va(n>>r===Ja,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Ka?-((~n&(Ka<<r)-Ka)+Ka):n}(t,8*this.size)),t}}class nc extends qo{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,wo(jo.dereference(t,"string")))}decode(e){return bo(super.decode(e))}}class rc extends Ro{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)})),super("tuple","tuple("+r.join(",")+")",t,n),fa(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let s=n.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[r]))})),Object.freeze(e)}encode(e,t){const n=jo.dereference(t,"tuple");return Ho(e,this.coders,n)}decode(e){return Qo(e,this.coders)}}function sc(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const ic=sc("external public payable override".split(" ")),ac="constant external internal payable private public pure view override",oc=sc(ac.split(" ")),cc="constructor error event fallback function receive struct",uc=sc(cc.split(" ")),lc="calldata memory storage payable indexed",hc=sc(lc.split(" ")),dc=sc([cc,lc,"tuple returns",ac].join(" ").split(" ")),fc={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},pc=new RegExp("^(\\s*)"),gc=new RegExp("^([0-9]+)"),mc=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),yc=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),vc=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class wc{#u;#m;get offset(){return this.#u}get length(){return this.#m.length-this.#u}constructor(e){this.#u=0,this.#m=e.slice()}clone(){return new wc(this.#m)}reset(){this.#u=0}#y(e=0,t=0){return new wc(this.#m.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#y(this.#u+1,e.match+1);return this.#u=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#u<e.match-1;){const e=this.peek().linkNext;t.push(this.#y(this.#u+1,e)),this.#u=e}return this.#u=e.match+1,t}peek(){if(this.#u>=this.#m.length)throw new Error("out-of-bounds");return this.#m[this.#u]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#u++,e}toString(){const e=[];for(let t=this.#u;t<this.#m.length;t++){const n=this.#m[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function bc(e){const t=[],n=t=>{const n=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error(`invalid token ${n} at ${i}: ${t}`)};let r=[],s=[],i=0;for(;i<e.length;){let a=e.substring(i),o=a.match(pc);o&&(i+=o[1].length,a=e.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let u=fc[a[0]]||"";if(u){if(c.type=u,c.text=a[0],i++,"OPEN_PAREN"===u)r.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==u)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===u)c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===u)c.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=ro(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=a.match(mc),o){if(c.text=o[1],i+=c.text.length,dc.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(vc)){c.type="TYPE";continue}c.type="ID"}else{if(o=a.match(gc),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`);c.text=o[1],c.type="NUMBER",i+=c.text.length}}return new wc(t.map((e=>Object.freeze(e))))}function Ac(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Ec(e,t){if(t.peekKeyword(uc)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function xc(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function kc(e){let t=xc(e,oc);return Ac(t,sc("constant payable nonpayable".split(" "))),Ac(t,sc("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Nc(e,t){return e.popParams().map((e=>Mc.from(e,t)))}function Tc(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Xa(e.pop().text);throw new Error("invalid gas")}return null}function Ic(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const Oc=new RegExp(/^(.*)\[([0-9]*)\]$/);function Pc(e){const t=e.match(vc);if(wa(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);wa(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);wa(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const Cc={},Sc=Symbol.for("_ethers_internal"),_c="_ParamTypeInternal",Rc="_ErrorInternal",Bc="_EventInternal",Lc="_ConstructorInternal",Dc="_FallbackInternal",Fc="_FunctionInternal",Uc="_StructInternal";class Mc{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,s,i,a,o){if(Ea(e,Cc,"ParamType"),Object.defineProperty(this,Sc,{value:_c}),i&&(i=Object.freeze(i.slice())),"array"===r){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===r){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");fa(this,{name:t,type:n,baseType:r,indexed:s,components:i,arrayLength:a,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#v(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=t.slice();return i.forEach(((t,r)=>{s.#v(e,t,n,(e=>{i[r]=e}))})),void r(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");i=s.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((t,r)=>{s[r].#v(e,t,n,(e=>{i[r]=e}))})),void r(i)}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)}async walkAsync(e,t){const n=[],r=[e];return this.#v(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Mc.isParamType(e))return e;if("string"==typeof e)try{return Mc.from(bc(e),t)}catch(t){wa(!1,"invalid param type","obj",e)}else if(e instanceof wc){let n="",r="",s=null;xc(e,sc(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",s=e.popParams().map((e=>Mc.from(e))),n=`tuple(${s.map((e=>e.format())).join(",")})`):(n=Pc(e.popType("TYPE")),r=n);let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new Mc(Cc,"",n,r,null,s,a,i),a=t.value,n+=t.text,r="array",s=null}let o=null;if(xc(e,hc).has("indexed")){if(!t)throw new Error("");o=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Mc(Cc,c,n,r,o,s,a,i)}const n=e.name;wa(!n||"string"==typeof n&&n.match(yc),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(wa(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,i=s.match(Oc);if(i){const t=parseInt(i[2]||"-1"),a=Mc.from({type:i[1],components:e.components});return new Mc(Cc,n||"",s,"array",r,null,t,a)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const t=null!=e.components?e.components.map((e=>Mc.from(e))):null;return new Mc(Cc,n||"",s,"tuple",r,t,null,null)}return s=Pc(e.type),new Mc(Cc,n||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[Sc]===_c}}class jc{type;inputs;constructor(e,t,n){Ea(e,Cc,"Fragment"),fa(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"==typeof e){try{jc.from(JSON.parse(e))}catch(e){}return jc.from(bc(e))}if(e instanceof wc)switch(e.peekKeyword(uc)){case"constructor":return zc.from(e);case"error":return Hc.from(e);case"event":return Qc.from(e);case"fallback":case"receive":return Zc.from(e);case"function":return qc.from(e);case"struct":return Jc.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return zc.from(e);case"error":return Hc.from(e);case"event":return Qc.from(e);case"fallback":case"receive":return Zc.from(e);case"function":return qc.from(e);case"struct":return Jc.from(e)}va(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}wa(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return zc.isFragment(e)}static isError(e){return Hc.isFragment(e)}static isEvent(e){return Qc.isFragment(e)}static isFunction(e){return qc.isFragment(e)}static isStruct(e){return Jc.isFragment(e)}}class Gc extends jc{name;constructor(e,t,n,r){super(e,t,r),wa("string"==typeof n&&n.match(yc),"invalid identifier","name",n),r=Object.freeze(r.slice()),fa(this,{name:n})}}function Vc(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Hc extends Gc{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Sc,{value:Rc})}get selector(){return Ao(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Vc(e,this.inputs)),t.join(" ")}static from(e){if(Hc.isFragment(e))return e;if("string"==typeof e)return Hc.from(bc(e));if(e instanceof wc){const t=Ec("error",e),n=Nc(e);return Ic(e),new Hc(Cc,t,n)}return new Hc(Cc,e.name,e.inputs?e.inputs.map(Mc.from):[])}static isFragment(e){return e&&e[Sc]===Rc}}class Qc extends Gc{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,Sc,{value:Bc}),fa(this,{anonymous:r})}get topicHash(){return Ao(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Vc(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>Mc.from(e))),new Qc(Cc,e,t,!1).topicHash}static from(e){if(Qc.isFragment(e))return e;if("string"==typeof e)try{return Qc.from(bc(e))}catch(t){wa(!1,"invalid event fragment","obj",e)}else if(e instanceof wc){const t=Ec("event",e),n=Nc(e,!0),r=!!xc(e,sc(["anonymous"])).has("anonymous");return Ic(e),new Qc(Cc,t,n,r)}return new Qc(Cc,e.name,e.inputs?e.inputs.map((e=>Mc.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[Sc]===Bc}}class zc extends jc{payable;gas;constructor(e,t,n,r,s){super(e,t,n),Object.defineProperty(this,Sc,{value:Lc}),fa(this,{payable:r,gas:s})}format(e){if(va(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${Vc(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(zc.isFragment(e))return e;if("string"==typeof e)try{return zc.from(bc(e))}catch(t){wa(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof wc){xc(e,sc(["constructor"]));const t=Nc(e),n=!!xc(e,ic).has("payable"),r=Tc(e);return Ic(e),new zc(Cc,"constructor",t,n,r)}return new zc(Cc,"constructor",e.inputs?e.inputs.map(Mc.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Sc]===Lc}}class Zc extends jc{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,Sc,{value:Dc}),fa(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Zc.isFragment(e))return e;if("string"==typeof e)try{return Zc.from(bc(e))}catch(t){wa(!1,"invalid fallback fragment","obj",e)}else if(e instanceof wc){const t=e.toString();if(wa(e.peekKeyword(sc(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(sc(["fallback","receive"]))){const t=Nc(e);return wa(0===t.length,"receive cannot have arguments","obj.inputs",t),xc(e,sc(["payable"])),Ic(e),new Zc(Cc,[],!0)}let n=Nc(e);n.length?wa(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Mc.from("bytes")];const r=kc(e);if(wa("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),xc(e,sc(["returns"])).has("returns")){const t=Nc(e);wa(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return Ic(e),new Zc(Cc,n,"payable"===r)}if("receive"===e.type)return new Zc(Cc,[],!0);if("fallback"===e.type){const t=[Mc.from("bytes")],n="payable"===e.stateMutability;return new Zc(Cc,t,n)}wa(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Sc]===Dc}}class qc extends Gc{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,s,i){super(e,"function",t,r),Object.defineProperty(this,Sc,{value:Fc}),fa(this,{constant:"view"===n||"pure"===n,gas:i,outputs:s=Object.freeze(s.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Ao(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Vc(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Vc(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>Mc.from(e))),new qc(Cc,e,"view",t,[],null).selector}static from(e){if(qc.isFragment(e))return e;if("string"==typeof e)try{return qc.from(bc(e))}catch(t){wa(!1,"invalid function fragment","obj",e)}else if(e instanceof wc){const t=Ec("function",e),n=Nc(e),r=kc(e);let s=[];xc(e,sc(["returns"])).has("returns")&&(s=Nc(e));const i=Tc(e);return Ic(e),new qc(Cc,t,r,n,s,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new qc(Cc,e.name,t,e.inputs?e.inputs.map(Mc.from):[],e.outputs?e.outputs.map(Mc.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Sc]===Fc}}class Jc extends Gc{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Sc,{value:Uc})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return Jc.from(bc(e))}catch(t){wa(!1,"invalid struct fragment","obj",e)}else if(e instanceof wc){const t=Ec("struct",e),n=Nc(e);return Ic(e),new Jc(Cc,t,n)}return new Jc(Cc,e.name,e.inputs?e.inputs.map(Mc.from):[])}static isFragment(e){return e&&e[Sc]===Uc}}const Kc=new Map;Kc.set(0,"GENERIC_PANIC"),Kc.set(1,"ASSERT_FALSE"),Kc.set(17,"OVERFLOW"),Kc.set(18,"DIVIDE_BY_ZERO"),Kc.set(33,"ENUM_RANGE_ERROR"),Kc.set(34,"BAD_STORAGE_DATA"),Kc.set(49,"STACK_UNDERFLOW"),Kc.set(50,"ARRAY_RANGE_ERROR"),Kc.set(65,"OUT_OF_MEMORY"),Kc.set(81,"UNINITIALIZED_FUNCTION_CALL");const Yc=new RegExp(/^bytes([0-9]*)$/),Wc=new RegExp(/^(u?int)([0-9]*)$/);let $c=null,Xc=1024;class eu{#w(e){if(e.isArray())return new zo(this.#w(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new rc(e.components.map((e=>this.#w(e))),e.name);switch(e.baseType){case"address":return new Go(e.name);case"bool":return new Zo(e.name);case"string":return new nc(e.name);case"bytes":return new Jo(e.name);case"":return new Wo(e.name)}let t=e.type.match(Wc);if(t){let n=parseInt(t[2]||"256");return wa(0!==n&&n<=256&&n%8==0,"invalid "+t[1]+" bit length","param",e),new tc(n/8,"int"===t[1],e.name)}if(t=e.type.match(Yc),t){let n=parseInt(t[1]);return wa(0!==n&&n<=32,"invalid bytes length","param",e),new Ko(n,e.name)}wa(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#w(Mc.from(e))));return new rc(t,"_").defaultValue()}encode(e,t){ba(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#w(Mc.from(e)))),r=new rc(n,"_"),s=new Bo;return r.encode(s,t),s.data}decode(e,t,n){const r=e.map((e=>this.#w(Mc.from(e))));return new rc(r,"_").decode(new Lo(t,n,Xc))}static _setDefaultMaxInflation(e){wa("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Xc=e}static defaultAbiCoder(){return null==$c&&($c=new eu),$c}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let s="missing revert data",i=null,a=null;if(n){s="execution reverted";const e=ka(n);if(n=Pa(n),0===e.length)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(e.length%32!=4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Pa(e.slice(0,4)))try{i=r.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(e){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Pa(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},i=`Panic due to ${Kc.get(t)||"UNKNOWN"}(${t})`,s+=`: ${i}`}catch(e){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:t.to?za(t.to):null,data:t.data||"0x"};return t.from&&(o.from=za(t.from)),ya(s,"CALL_EXCEPTION",{action:e,data:n,reason:i,transaction:o,invocation:null,revert:a})}(e,t,n,eu.defaultAbiCoder())}}class tu{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,s=e.format();fa(this,{fragment:e,name:r,signature:s,topic:t,args:n})}}class nu{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const s=e.name,i=e.format();fa(this,{fragment:e,name:s,args:n,signature:i,selector:t,value:r})}}class ru{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,s=e.format();fa(this,{fragment:e,name:r,args:n,signature:s,selector:t})}}class su{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){fa(this,{hash:e,_isIndexed:!0})}}const iu={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},au={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&iu[e.toString()]&&(t=iu[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class ou{fragments;deploy;fallback;receive;#b;#A;#E;#x;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#E=new Map,this.#b=new Map,this.#A=new Map;const n=[];for(const e of t)try{n.push(jc.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}fa(this,{fragments:Object.freeze(n)});let r=null,s=!1;this.#x=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void fa(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:(wa(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,s=r.payable));case"function":n=this.#E;break;case"event":n=this.#A;break;case"error":n=this.#b;break;default:return}const i=e.format();n.has(i)||n.set(i,e)})),this.deploy||fa(this,{deploy:zc.from("constructor()")}),fa(this,{fallback:r,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return eu.defaultAbiCoder()}#k(e,t,n){if(Ta(e)){const t=e.toLowerCase();for(const e of this.#E.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#E)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,s=!0;jo.isTyped(e)&&"overrides"===e.type&&(s=!1,n--);for(let e=r.length-1;e>=0;e--){const t=r[e].inputs.length;t===n||s&&t===n-1||r.splice(e,1)}for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(jo.isTyped(t[s])){if(s>=n.length){if("overrides"===t[s].type)continue;r.splice(e,1);break}if(t[s].type!==n[s].baseType){r.splice(e,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&r.splice(0,1)}return 0===r.length?null:(r.length>1&&n&&wa(!1,`ambiguous function description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),r[0])}return this.#E.get(qc.from(e).format())||null}getFunctionName(e){const t=this.#k(e,null,!1);return wa(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#k(e,null,!1)}getFunction(e,t){return this.#k(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#E.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#E.get(r),n)}}#N(e,t,n){if(Ta(e)){const t=e.toLowerCase();for(const e of this.#A.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#A)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(jo.isTyped(t[s])&&t[s].type!==n[s].baseType){r.splice(e,1);break}}}return 0===r.length?null:(r.length>1&&n&&wa(!1,`ambiguous event description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e),r[0])}return this.#A.get(Qc.from(e).format())||null}getEventName(e){const t=this.#N(e,null,!1);return wa(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#N(e,null,!1)}getEvent(e,t){return this.#N(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#A.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#A.get(r),n)}}getError(e,t){if(Ta(e)){const t=e.toLowerCase();if(au[t])return Hc.from(au[t].signature);for(const e of this.#b.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#b)n.split("(")[0]===e&&t.push(r);return 0===t.length?"Error"===e?Hc.from("error Error(string)"):"Panic"===e?Hc.from("error Panic(uint256)"):null:(t.length>1&&wa(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e),t[0])}if("Error(string)"===(e=Hc.from(e).format()))return Hc.from("error Error(string)");if("Panic(uint256)"===e)return Hc.from("error Panic(uint256)");return this.#b.get(e)||null}forEachError(e){const t=Array.from(this.#b.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#b.get(r),n)}}_decodeParams(e,t){return this.#x.decode(e,t)}_encodeParams(e,t){return this.#x.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);wa(t,"unknown error","fragment",e),e=t}return wa(_a(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,_a(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);wa(t,"unknown error","fragment",e),e=t}return Ca([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);wa(t,"unknown function","fragment",e),e=t}return wa(_a(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,_a(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);wa(t,"unknown function","fragment",e),e=t}return Ca([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);wa(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=Na(t);if(r.length%32==0)try{return this.#x.decode(e.outputs,r)}catch(e){n="could not decode result data"}va(!1,n,"BAD_DATA",{value:Pa(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=ka(e,"data"),r=eu.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Pa(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#x.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(e){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);wa(t,"unknown function","fragment",e),e=t}return Pa(this.#x.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);wa(t,"unknown event","eventFragment",e),e=t}va(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?Ao(t):"bytes"===e.type?Ua(Pa(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=so(t):e.type.match(/^bytes/)?t=Ra(t,32,!1):"address"===e.type&&this.#x.encode(["address"],[t]),Ba(Pa(t),32));for(t.forEach(((t,s)=>{const i=e.inputs[s];i.indexed?null==t?n.push(null):"array"===i.baseType||"tuple"===i.baseType?wa(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?n.push(t.map((e=>r(i,e)))):n.push(r(i,t)):wa(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);wa(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],s=[];return e.anonymous||n.push(e.topicHash),wa(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const a=t[i];if(e.indexed)if("string"===e.type)n.push(Ao(a));else if("bytes"===e.type)n.push(Ua(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#x.encode([e.type],[a]))}else r.push(e),s.push(a)})),{data:this.#x.encode(r,s),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e){const t=this.getEvent(e);wa(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;wa(Ta(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],s=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Mc.from({type:"bytes32",name:e.name})),i.push(!0)):(r.push(e),i.push(!1)):(s.push(e),i.push(!1))}));const a=null!=n?this.#x.decode(r,Ca(n)):null,o=this.#x.decode(s,t,!0),c=[],u=[];let l=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==a)n=new su(null);else if(i[t])n=new su(a[h++]);else try{n=a[h++]}catch(e){n=e}else try{n=o[l++]}catch(e){n=e}c.push(n),u.push(e.name||null)})),So.fromItems(c,u)}parseTransaction(e){const t=ka(e.data,"tx.data"),n=Xa(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Pa(t.slice(0,4)));if(!r)return null;const s=this.#x.decode(r.inputs,t.slice(4));return new nu(r,r.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new tu(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Pa(e),n=this.getError(_a(t,0,4));if(!n)return null;const r=this.#x.decode(n.inputs,_a(t,4));return new ru(n,n.selector,r)}static from(e){return e instanceof ou?e:"string"==typeof e?new ou(JSON.parse(e)):"function"==typeof e.formatJson?new ou(e.formatJson()):"function"==typeof e.format?new ou(e.format("json")):new ou(e)}}function cu(e){return e&&"function"==typeof e.getAddress}async function uu(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(va("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),wa(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),za(n)}function lu(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?za(e):(va(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),uu(e,t.resolveName(e))):cu(e)?uu(e,e.getAddress()):e&&"function"==typeof e.then?uu(e,e):void wa(!1,"unsupported addressable value","target",e)}const hu=new Uint8Array(32);hu.fill(0);const du=BigInt(-1),fu=BigInt(0),pu=BigInt(1),gu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),mu=so(pu,32),yu=so(fu,32),vu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wu=["name","version","chainId","verifyingContract","salt"];function bu(e){return function(t){return wa("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Au={name:bu("name"),version:bu("version"),chainId:function(e){const t=Xa(e,"domain.chainId");return wa(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ao(t)},verifyingContract:function(e){try{return za(e).toLowerCase()}catch(e){}wa(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=ka(e,"domain.salt");return wa(32===t.length,'invalid domain value "salt"',"domain.salt",e),Pa(t)}};function Eu(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);wa(r%8==0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const s=$a(gu,n?r-1:r),i=n?(s+pu)*du:fu;return function(t){const r=Xa(t,"value");return wa(r>=i&&r<=s,`value out-of-bounds for ${e}`,"value",r),so(n?Wa(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return wa(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return wa(ka(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=ka(e),n=t.length%32;return n?Ca([t,hu.slice(n)]):Pa(t)}(t)}}}switch(e){case"address":return function(e){return Ba(za(e),32)};case"bool":return function(e){return e?mu:yu};case"bytes":return function(e){return Ua(e)};case"string":return function(e){return Ao(e)}}return null}function xu(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function ku(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class Nu{primaryType;#T;get types(){return JSON.parse(this.#T)}#I;#O;constructor(e){this.#I=new Map,this.#O=new Map;const t=new Map,n=new Map,r=new Map,s={};Object.keys(e).forEach((i=>{s[i]=e[i].map((({name:t,type:n})=>{let{base:r,index:s}=ku(n);return"int"!==r||e.int||(r="int256"),"uint"!==r||e.uint||(r="uint256"),{name:t,type:r+(s||"")}})),t.set(i,new Set),n.set(i,[]),r.set(i,new Set)})),this.#T=JSON.stringify(s);for(const r in s){const i=new Set;for(const a of s[r]){wa(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(r)}`,"types",e),i.add(a.name);const s=ku(a.type).base;wa(s!==r,`circular type reference to ${JSON.stringify(s)}`,"types",e),Eu(s)||(wa(n.has(s),`unknown type ${JSON.stringify(s)}`,"types",e),n.get(s).push(r),t.get(r).add(s))}}const i=Array.from(n.keys()).filter((e=>0===n.get(e).length));wa(0!==i.length,"missing primary type","types",e),wa(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),fa(this,{primaryType:i[0]}),function s(i,a){wa(!a.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",e),a.add(i);for(const e of t.get(i))if(n.has(e)){s(e,a);for(const t of a)r.get(t).add(e)}a.delete(i)}(this.primaryType,new Set);for(const[e,t]of r){const n=Array.from(t);n.sort(),this.#I.set(e,xu(e,s[e])+n.map((e=>xu(e,s[e]))).join(""))}}getEncoder(e){let t=this.#O.get(e);return t||(t=this.#P(e),this.#O.set(e,t)),t}#P(e){{const t=Eu(e);if(t)return t}const t=ku(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{wa(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let s=r.map(n);return this.#I.has(e)&&(s=s.map(Ua)),Ua(Ca(s))}}const n=this.types[e];if(n){const t=Ao(this.#I.get(e));return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this.#I.has(n)?Ua(r):r}));return r.unshift(t),Ca(r)}}wa(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#I.get(e);return wa(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ua(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Eu(e))return n(e,t);const r=ku(e).array;if(r)return wa(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const s=this.types[e];if(s)return s.reduce(((e,{name:r,type:s})=>(e[r]=this._visit(s,t[r],n),e)),{});wa(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Nu(e)}static getPrimaryType(e){return Nu.from(e).primaryType}static hashStruct(e,t,n){return Nu.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=vu[n];wa(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>wu.indexOf(e.name)-wu.indexOf(t.name))),Nu.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ca(["0x1901",Nu.hashDomain(e),Nu.from(t).hash(n)])}static hash(e,t,n){return Ua(Nu.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const s={};e.verifyingContract&&!Ta(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const i=Nu.from(t);i.visit(n,((e,t)=>("address"!==e||Ta(t,20)||(s[t]="0x"),t)));for(const e in s)s[e]=await r(e);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:n=i.visit(n,((e,t)=>"address"===e&&s[t]?s[t]:t))}}static getPayload(e,t,n){Nu.hashDomain(e);const r={},s=[];wu.forEach((t=>{const n=e[t];null!=n&&(r[t]=Au[t](n),s.push({name:t,type:vu[t]}))}));const i=Nu.from(t);t=i.types;const a=Object.assign({},t);return wa(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,i.encode(n),{types:a,domain:r,primaryType:i.primaryType,message:i.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Pa(ka(t));if(e.match(/^u?int/))return Xa(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return wa("string"==typeof t,"invalid string","value",t),t}wa(!1,"unsupported type","type",e)}))}}}function Tu(e){return async function(e,t){va(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();va("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),va("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const s=new AbortController,i=setTimeout((()=>{r=ya("request timeout","TIMEOUT"),s.abort()}),e.timeout);t&&t.addListener((()=>{r=ya("request cancelled","CANCELLED"),s.abort()}));const a={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s.signal};let o;try{o=await fetch(e.url,a)}catch(e){if(clearTimeout(i),r)throw r;throw e}clearTimeout(i);const c={};o.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const u=await o.arrayBuffer(),l=null==u?null:new Uint8Array(u);return{statusCode:o.status,statusMessage:o.statusText,headers:c,body:l}}}Tu();let Iu=Tu();const Ou=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Pu=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Cu=!1;async function Su(e,t){try{const t=e.match(Ou);if(!t)throw new Error("invalid data");return new Uu(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return ka(t)}(t[3]):wo(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new Uu(599,"BAD REQUEST (invalid data: URI)",{},null,new Fu(e))}}function _u(e){return async function(t,n){try{const n=t.match(Pu);if(!n)throw new Error("invalid link");return new Fu(`${e}${n[2]}`)}catch(e){return new Uu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Fu(t))}}}const Ru={data:Su,ipfs:_u("https://gateway.ipfs.io/ipfs/")},Bu=new WeakMap;class Lu{#C;#S;constructor(e){this.#C=[],this.#S=!1,Bu.set(e,(()=>{if(!this.#S){this.#S=!0;for(const e of this.#C)setTimeout((()=>{e()}),0);this.#C=[]}}))}addListener(e){va(!this.#S,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#C.push(e)}get cancelled(){return this.#S}checkSignal(){va(!this.cancelled,"cancelled","CANCELLED",{})}}function Du(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class Fu{#_;#R;#B;#L;#D;#e;#F;#U;#M;#j;#G;#V;#H;#Q;#z;get url(){return this.#e}set url(e){this.#e=String(e)}get body(){return null==this.#F?null:new Uint8Array(this.#F)}set body(e){if(null==e)this.#F=void 0,this.#U=void 0;else if("string"==typeof e)this.#F=wo(e),this.#U="text/plain";else if(e instanceof Uint8Array)this.#F=e,this.#U="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#F=wo(JSON.stringify(e)),this.#U="application/json"}}hasBody(){return null!=this.#F}get method(){return this.#L?this.#L:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#L=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#B);return this.#M&&(e.authorization=`Basic ${function(e){const t=ka(e);let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(wo(this.#M))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#U&&(e["content-type"]=this.#U),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#B[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#B={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#M||null}setCredentials(e,t){wa(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#M=`${e}:${t}`}get allowGzip(){return this.#R}set allowGzip(e){this.#R=!!e}get allowInsecureAuthentication(){return!!this.#_}set allowInsecureAuthentication(e){this.#_=!!e}get timeout(){return this.#D}set timeout(e){wa(e>=0,"timeout must be non-zero","timeout",e),this.#D=e}get preflightFunc(){return this.#j||null}set preflightFunc(e){this.#j=e}get processFunc(){return this.#G||null}set processFunc(e){this.#G=e}get retryFunc(){return this.#V||null}set retryFunc(e){this.#V=e}get getUrlFunc(){return this.#z||Iu}set getUrlFunc(e){this.#z=e}constructor(e){this.#e=String(e),this.#_=!1,this.#R=!0,this.#B={},this.#L="",this.#D=3e5,this.#Q={slotInterval:250,maxAttempts:12},this.#z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#F?Pa(this.#F):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Q.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Q.maxAttempts=e.maxAttempts)}async#Z(e,t,n,r,s){if(e>=this.#Q.maxAttempts)return s.makeServerError("exceeded maximum retry limit");va(Mu()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in Ru){const e=await Ru[a](i.url,Du(r.#H));if(e instanceof Uu){let t=e;if(this.processFunc){Du(r.#H);try{t=await this.processFunc(i,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,Du(r.#H));let c=new Uu(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===c.statusCode||302===c.statusCode){try{const n=c.headers.location||"";return i.redirect(n).#Z(e+1,t,0,r,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(i,c,e))){const n=c.headers["retry-after"];let s=this.#Q.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof n&&n.match(/^[1-9][0-9]*$/)&&(s=parseInt(n)),i.clone().#Z(e+1,t,s,r,c)}if(this.processFunc){Du(r.#H);try{c=await this.processFunc(i,c)}catch(n){null!=n.throttle&&"number"==typeof n.stall||c.makeServerError("error in post-processing function",n).assertOk();let s=this.#Q.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(s=n.stall),i.clone().#Z(e+1,t,s,r,c)}}return c}send(){return va(null==this.#H,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#H=new Lu(this),this.#Z(0,Mu()+this.timeout,0,this,new Uu(0,"",{},null,this))}cancel(){va(null!=this.#H,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Bu.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();va("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new Fu(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#B=Object.assign({},this.#B),this.#F&&(r.#F=new Uint8Array(this.#F)),r.#U=this.#U,r}clone(){const e=new Fu(this.url);return e.#L=this.#L,this.#F&&(e.#F=this.#F),e.#U=this.#U,e.#B=Object.assign({},this.#B),e.#M=this.#M,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#j=this.#j,e.#G=this.#G,e.#V=this.#V,e.#Q=Object.assign({},this.#Q),e.#z=this.#z,e}static lockConfig(){Cu=!0}static getGateway(e){return Ru[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Cu)throw new Error("gateways locked");Ru[e]=t}static registerGetUrl(e){if(Cu)throw new Error("gateways locked");Iu=e}static createGetUrlFunc(e){return Tu()}static createDataGateway(){return Su}static createIpfsGatewayFunc(e){return _u(e)}}class Uu{#q;#J;#B;#F;#K;#Y;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#F?Pa(this.#F):"null"}>`}get statusCode(){return this.#q}get statusMessage(){return this.#J}get headers(){return Object.assign({},this.#B)}get body(){return null==this.#F?null:new Uint8Array(this.#F)}get bodyText(){try{return null==this.#F?"":bo(this.#F)}catch(e){va(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){va(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,s){this.#q=e,this.#J=t,this.#B=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#F=null==r?null:new Uint8Array(r),this.#K=s||null,this.#Y={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Uu(599,n,this.headers,this.body,this.#K||void 0);return r.#Y={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:wa(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw fa(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#F}get request(){return this.#K}ok(){return""===this.#Y.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#Y;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#F&&(r=bo(this.#F))}catch(e){}va(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Mu(){return(new Date).getTime()}const ju="0x0000000000000000000000000000000000000000",Gu=BigInt(0);function Vu(e){return null==e?null:e}function Hu(e){return null==e?null:e.toString()}class Qu{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){fa(this,{gasPrice:Vu(e),maxFeePerGas:Vu(t),maxPriorityFeePerGas:Vu(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Hu(e),maxFeePerGas:Hu(t),maxPriorityFeePerGas:Hu(n)}}}function zu(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Pa(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=Xa(e[r],`request.${r}`));const r="type,nonce".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=ro(e[n],`request.${n}`));return e.accessList&&(t.accessList=qa(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>Ia(e)?Pa(e):Object.assign({},e)))),t}class Zu{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#W;constructor(e,t){this.#W=e.transactions.map((e=>"string"!=typeof e?new Ku(e,t):e)),fa(this,{provider:t,hash:Vu(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Vu(e.prevRandao),extraData:e.extraData,baseFeePerGas:Vu(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#W.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#W.slice();return 0===e.length?[]:(va("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:i,miner:a,prevRandao:o,nonce:c,number:u,parentHash:l,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:Hu(e),difficulty:Hu(t),extraData:n,gasLimit:Hu(r),gasUsed:Hu(s),blobGasUsed:Hu(this.blobGasUsed),excessBlobGas:Hu(this.excessBlobGas),hash:i,miner:a,prevRandao:o,nonce:c,number:u,parentHash:l,timestamp:p,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#W.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#W[e];else{const n=e.toLowerCase();for(const e of this.#W){if("string"==typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;wa(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return function(e){return{orphan:"drop-block",hash:e.hash,number:e.number}}(this)}}class qu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());fa(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return va(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return va(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return va(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Ju{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#$;constructor(e,t){this.#$=Object.freeze(e.logs.map((e=>new qu(e,t))));let n=Gu;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),fa(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#$}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:i,blockNumber:a,logsBloom:o,logs:c,status:u,root:l}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:n,cumulativeGasUsed:Hu(this.cumulativeGasUsed),from:t,gasPrice:Hu(this.gasPrice),blobGasUsed:Hu(this.blobGasUsed),blobGasPrice:Hu(this.blobGasPrice),gasUsed:Hu(this.gasUsed),hash:r,index:s,logs:c,logsBloom:o,root:l,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Wu(this)}reorderedEvent(e){return va(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Yu(this,e)}}class Ku{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#X;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#X=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:s,to:i,from:a,nonce:o,data:c,signature:u,accessList:l,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Hu(this.chainId),data:c,from:a,gasLimit:Hu(this.gasLimit),gasPrice:Hu(this.gasPrice),hash:r,maxFeePerGas:Hu(this.maxFeePerGas),maxPriorityFeePerGas:Hu(this.maxPriorityFeePerGas),maxFeePerBlobGas:Hu(this.maxFeePerBlobGas),nonce:o,signature:u,to:i,index:n,type:s,value:Hu(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await da({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let s=this.#X,i=-1,a=-1===s;const o=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await da({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(s=e);if(a)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===i&&(i=s-3,i<this.#X&&(i=this.#X));i<=e;){if(a)return null;const t=await this.provider.getBlock(i,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const i=await t.getTransaction(r);if(i.from===this.from&&i.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(i.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?r="repriced":"0x"===i.data&&i.from===i.to&&i.value===Gu&&(r="cancelled"),va(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:t})}}i++}},c=e=>{if(null==e||0!==e.status)return e;va(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},u=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(u);if(u){if(await u.confirmations()>=n)return c(u)}else if(await o(),0===n)return null;const l=new Promise(((e,t)=>{const i=[],u=()=>{i.forEach((e=>e()))};if(i.push((()=>{a=!0})),r>0){const e=setTimeout((()=>{u(),t(ya("wait for transaction timeout","TIMEOUT"))}),r);i.push((()=>{clearTimeout(e)}))}const l=async r=>{if(await r.confirmations()>=n){u();try{e(c(r))}catch(e){t(e)}}};if(i.push((()=>{this.provider.off(this.hash,l)})),this.provider.on(this.hash,l),s>=0){const e=async()=>{try{await o()}catch(e){if(ga(e,"TRANSACTION_REPLACED"))return u(),void t(e)}a||this.provider.once("block",e)};i.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await l}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return va(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wu(this)}reorderedEvent(e){return va(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),va(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Yu(this,e)}replaceableTransaction(e){wa(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ku(this,this.provider);return t.#X=e,t}}function Yu(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Wu(e){return{orphan:"drop-transaction",tx:e}}class $u{filter;emitter;#ee;constructor(e,t,n){this.#ee=t,fa(this,{emitter:e,filter:n})}async removeListener(){null!=this.#ee&&await this.emitter.off(this.filter,this.#ee)}}class Xu extends qu{interface;fragment;args;constructor(e,t,n){super(e,e.provider),fa(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class el extends qu{error;constructor(e,t){super(e,e.provider),fa(this,{error:t})}}class tl extends Ju{#te;constructor(e,t,n){super(n,t),this.#te=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#te.getEvent(e.topics[0]):null;if(t)try{return new Xu(e,this.#te,t)}catch(t){return new el(e,t)}return e}))}}class nl extends Ku{#te;constructor(e,t,n){super(n,t),this.#te=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new tl(this.#te,this.provider,n)}}class rl extends $u{log;constructor(e,t,n,r){super(e,t,n),fa(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class sl extends rl{constructor(e,t,n,r,s){super(e,t,n,new Xu(s,e.interface,r)),fa(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const il=BigInt(0);function al(e){return e&&"function"==typeof e.call}function ol(e){return e&&"function"==typeof e.estimateGas}function cl(e){return e&&"function"==typeof e.resolveName}function ul(e){return e&&"function"==typeof e.sendTransaction}function ll(e){if(null!=e){if(cl(e))return e;if(e.provider)return e.provider}}class hl{#ne;fragment;constructor(e,t,n){if(fa(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=dl(e.runner,"resolveName"),s=cl(r)?r:null;this.#ne=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>lu(e,s)))):lu(t,s):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#ne}}function dl(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function fl(e){return null==e?null:e.provider||null}async function pl(e,t){const n=jo.dereference(e,"overrides");wa("object"==typeof n,"invalid overrides parameter","overrides",e);const r=zu(n);return wa(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),wa(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function gl(e){const t=async function(t){const n=await pl(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await lu(n.from,ll(e.runner)));const r=e.interface,s=Xa(n.value||il,"overrides.value")===il,i="0x"===(n.data||"0x");return!r.fallback||r.fallback.payable||!r.receive||i||s||wa(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),wa(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),wa(r.receive||r.fallback&&r.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",n.value),wa(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;va(ul(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await t(n)),i=fl(e.runner);return new nl(e.interface,i,s)},r=async e=>await n(e);return fa(r,{_contract:e,estimateGas:async function(n){const r=dl(e.runner,"estimateGas");return va(ol(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=dl(e.runner,"call");va(al(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(n);try{return await r.call(s)}catch(t){if(ma(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}}}),r}const ml=Symbol.for("_ethersInternal_contract"),yl=new WeakMap;function vl(e){return yl.get(e[ml])}async function wl(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Ta(t,32))return t;const n=e.interface.getEvent(t);return wa(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"==typeof t?Ta(t,32)?n=[t]:(r=e.interface.getEvent(t),wa(r,"unknown fragment","event",t),n=[r.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):wa(!1,"unknown event name","event",t);var s;return n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function bl(e,t){const{subs:n}=vl(e);return n.get((await wl(e,t)).tag)||null}async function Al(e,t,n){const r=fl(e.runner);va(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:a}=await wl(e,n),{addr:o,subs:c}=vl(e);let u=c.get(i);if(!u){const t={address:o||e,topics:a},l=t=>{let r=s;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(e){}if(r){const i=r,a=s?e.interface.decodeEventLog(s,t.data,t.topics):[];xl(e,n,a,(r=>new sl(e,r,n,i,t)))}else xl(e,n,[],(r=>new rl(e,r,n,t)))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(r.on(t,l))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,l)}},c.set(i,u)}return u}let El=Promise.resolve();async function xl(e,t,n,r){try{await El}catch(e){}const s=async function(e,t,n,r){await El;const s=await bl(e,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:t,once:s})=>{const i=Array.from(n);r&&i.push(r(s?null:t));try{t.call(e,...i)}catch(e){}return!s})),0===s.listeners.length&&(s.stop(),vl(e).subs.delete(s.tag)),i>0}(e,t,n,r);return El=s,await s}const kl=["then"];class Nl{target;interface;runner;filters;[ml];fallback;constructor(e,t,n,r){wa("string"==typeof e||cu(e),"invalid value for Contract target","target",e),null==n&&(n=null);const s=ou.from(t);let i;fa(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,ml,{value:{}});let a=null,o=null;if(r){const e=fl(n);o=new nl(this.interface,e,r)}let c=new Map;if("string"==typeof e)if(Ta(e))a=e,i=Promise.resolve(e);else{const t=dl(n,"resolveName");if(!cl(t))throw ya("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then((t=>{if(null==t)throw ya("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return vl(this).addr=t,t}))}else i=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return vl(this).addr=e,e}));var u,l;u=this,l={addrPromise:i,addr:a,deployTx:o,subs:c},yl.set(u[ml],l);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"==typeof t||kl.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(e){if(!ga(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>kl.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return fa(this,{filters:h}),fa(this,{fallback:s.receive||s.fallback?gl(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"==typeof t||t in e||kl.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(e){if(!ga(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||kl.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Nl(this.target,this.interface,e)}attach(e){return new Nl(e,this.interface,this.runner)}async getAddress(){return await vl(this).addrPromise}async getDeployedCode(){const e=fl(this.runner);va(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=fl(this.runner);return va(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(e){n(e)}};r()}))}deploymentTransaction(){return vl(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getFunction(t,n);return va(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=async function(...t){const r=n(...t);let s={};if(r.inputs.length+1===t.length&&(s=await pl(t.pop()),s.from&&(s.from=await lu(s.from,ll(e.runner)))),r.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(e,t,n){const r=dl(e,"resolveName"),s=cl(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=jo.dereference(t,e),"address"===e?lu(t,s):t))))))}(e.runner,r.inputs,t);return Object.assign({},s,await da({to:e.getAddress(),data:e.interface.encodeFunctionData(r,i)}))},s=async function(...e){const t=await a(...e);return 1===t.length?t[0]:t},i=async function(...t){const n=e.runner;va(ul(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await r(...t)),i=fl(e.runner);return new nl(e.interface,i,s)},a=async function(...t){const s=dl(e.runner,"call");va(al(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...t);let a="0x";try{a=await s.call(i)}catch(t){if(ma(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}const o=n(...t);return e.interface.decodeFunctionResult(o,a)},o=async(...e)=>n(...e).constant?await s(...e):await i(...e);return fa(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(...t){const n=dl(e.runner,"estimateGas");return va(ol(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await r(...t))},populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return va(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),o}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const n=function(...n){const r=e.interface.getEvent(t,n);return va(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),r},r=function(...t){return new hl(e,n(...t),t)};return fa(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return va(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:s}=vl(this),i=r||await s,{fragment:a,topics:o}=await wl(this,e),c={address:i,topics:o,fromBlock:t,toBlock:n},u=fl(this.runner);return va(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new Xu(e,this.interface,t)}catch(t){return new el(e,t)}return new qu(e,u)}))}async on(e,t){const n=await Al(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Al(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await xl(this,e,t,null)}async listenerCount(e){if(e){const t=await bl(this,e);return t?t.listeners.length:0}const{subs:t}=vl(this);let n=0;for(const{listeners:e}of t.values())n+=e.length;return n}async listeners(e){if(e){const t=await bl(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=vl(this);let n=[];for(const{listeners:e}of t.values())n=n.concat(e.map((({listener:e})=>e)));return n}async off(e,t){const n=await bl(this,e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),vl(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await bl(this,e);if(!t)return this;t.stop(),vl(this).subs.delete(t.tag)}else{const{subs:e}=vl(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Nl{constructor(t,n=null){super(t,e,n)}}}static from(e,t,n){return null==n&&(n=null),new this(e,t,n)}}class Tl extends(function(){return Nl}()){}var Il="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";const Ol=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Pl=4;function Cl(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,i=[0,1];for(let e=1;e<r;e++)i.push(s+=n());let a=n(),o=t;t+=a;let c=0,u=0;function l(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const h=2**31,d=h>>>1,f=d>>1,p=h-1;let g=0;for(let e=0;e<31;e++)g=g<<1|l();let m=[],y=0,v=h;for(;;){let e=Math.floor(((g-y+1)*s-1)/v),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;m.push(t);let a=y+Math.floor(v*i[t]/s),o=y+Math.floor(v*i[t+1]/s)-1;for(;!((a^o)&d);)g=g<<1&p|l(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&f;)g=g&d|g<<1&p>>>1|l(),a=a<<1^d,o=(o^d)<<1|d|1;y=a,v=1+o-a}let w=r-4;return m.map((t=>{switch(t-w){case 3:return w+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return w+256+(e[o++]<<8|e[o++]);case 1:return w+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,o=0;s<n;s++)o=o<<6|t[e.charCodeAt(s)],a+=6,a>=8&&(r[i++]=o>>(a-=8));return r}(e)))}function Sl(e){return 1&e?~e>>1:e>>1}function _l(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=Sl(t());return n}function Rl(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let e=0;e<s;e++)n.push(t+e);t+=s+1}return n}function Bl(e){return Dl((()=>{let t=Rl(e);if(t.length)return t}))}function Ll(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Ul(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Ml(n,e))}return t.flat()}function Dl(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Fl(e,t,n){let r=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)_l(e,n).forEach(((e,t)=>r[t].push(e)));return r}function Ul(e,t){let n=1+t(),r=t(),s=Dl(t);return Fl(s.length,1+e,t).flatMap(((e,t)=>{let[i,...a]=e;return Array(s[t]).fill().map(((e,t)=>{let s=t*r;return[i+t*n,a.map((e=>e+s))]}))}))}function Ml(e,t){return Fl(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function jl(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Gl(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Vl(e,t){let n=e.length,r=n-t.length;for(let s=0;0==r&&s<n;s++)r=e[s]-t[s];return r}var Hl="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";const Ql=44032,zl=4352,Zl=4449,ql=4519,Jl=28,Kl=21*Jl,Yl=Ql+19*Kl,Wl=zl+19,$l=Zl+21,Xl=ql+Jl;function eh(e){return e>>24&255}function th(e){return 16777215&e}let nh,rh,sh,ih;function ah(e){return e>=Ql&&e<Yl}function oh(e,t){if(e>=zl&&e<Wl&&t>=Zl&&t<$l)return Ql+(e-zl)*Kl+(t-Zl)*Jl;if(ah(e)&&t>ql&&t<Xl&&(e-Ql)%Jl==0)return e+(t-ql);{let n=ih.get(e);return n&&(n=n.get(t),n)?n:-1}}function ch(e){nh||function(){let e=Cl(Hl);nh=new Map(Bl(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),rh=new Set(Rl(e)),sh=new Map,ih=new Map;for(let[t,n]of Ll(e)){if(!rh.has(t)&&2==n.length){let[e,r]=n,s=ih.get(e);s||(s=new Map,ih.set(e,s)),s.set(r,t)}sh.set(t,n.reverse())}}();let t=[],n=[],r=!1;function s(e){let n=nh.get(e);n&&(r=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(ah(r)){let e=r-Ql,t=e%Kl/Jl|0,n=e%Jl;s(zl+(e/Kl|0)),s(Zl+t),n>0&&s(ql+n)}else{let e=sh.get(r);e?n.push(...e):s(r)}if(!n.length)break;r=n.pop()}if(r&&t.length>1){let e=eh(t[0]);for(let n=1;n<t.length;n++){let r=eh(t[n]);if(0==r||e<=r){e=r;continue}let s=n-1;for(;;){let n=t[s+1];if(t[s+1]=t[s],t[s]=n,!s)break;if(e=eh(t[--s]),e<=r)break}e=eh(t[n])}}return t}function uh(e){return ch(e).map(th)}function lh(e){return function(e){let t=[],n=[],r=-1,s=0;for(let i of e){let e=eh(i),a=th(i);if(-1==r)0==e?r=a:t.push(a);else if(s>0&&s>=e)0==e?(t.push(r,...n),n.length=0,r=a):n.push(a),s=e;else{let i=oh(r,a);i>=0?r=i:0==s&&0==e?(t.push(r),r=a):(n.push(a),s=e)}}return r>=0&&t.push(r,...n),t}(ch(e))}const hh=45,dh=".",fh=65039,ph=1,gh=e=>Array.from(e);function mh(e,t){return e.P.has(t)||e.Q.has(t)}class yh extends Array{get is_emoji(){return!0}}let vh,wh,bh,Ah,Eh,xh,kh,Nh,Th,Ih,Oh,Ph;function Ch(){if(vh)return;let e=Cl(Il);const t=()=>Rl(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));vh=new Map(Ll(e)),wh=n(),bh=t(),Ah=new Set(t().map((e=>bh[e]))),bh=new Set(bh),Eh=n(),xh=n();let s=Bl(e),i=e();const a=()=>{let e=new Set;return t().forEach((t=>r(e,s[t]))),r(e,t()),e};kh=Dl((t=>{let n=Dl(e).map((e=>e+96));if(n.length){let r=t>=i;return n[0]-=32,n=Gl(n),r&&(n=`Restricted[${n}]`),{N:n,P:a(),Q:a(),M:!e(),R:r}}})),Nh=n(),Th=new Map;let o=t().concat(gh(Nh)).sort(((e,t)=>e-t));o.forEach(((t,n)=>{let r=e(),s=o[n]=r?o[n-r]:{V:[],M:new Map};s.V.push(t),Nh.has(t)||Th.set(t,s)}));for(let{V:e,M:t}of new Set(Th.values())){let n=[];for(let t of e){let e=kh.filter((e=>mh(e,t))),s=n.find((({G:t})=>e.some((e=>t.has(e)))));s||(s={G:new Set,V:[]},n.push(s)),s.V.push(t),r(s.G,e)}let s=n.flatMap((e=>gh(e.G)));for(let{G:e,V:r}of n){let n=new Set(s.filter((t=>!e.has(t))));for(let e of r)t.set(e,n)}}Ih=new Set;let c=new Set;const u=e=>Ih.has(e)?c.add(e):Ih.add(e);for(let e of kh){for(let t of e.P)u(t);for(let t of e.Q)u(t)}for(let e of Ih)Th.has(e)||c.has(e)||Th.set(e,ph);r(Ih,uh(Ih)),Oh=function(e){let t=[],n=Rl(e);return function e({S:n,B:r},s,i){if(!(4&n&&i===s[s.length-1])){2&n&&(i=s[s.length-1]),1&n&&t.push(s);for(let t of r)for(let n of t.Q)e(t,[...s,n],i)}}(function t(r){return{S:e(),B:Dl((()=>{let r=Rl(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>yh.from(e))).sort(Vl),Ph=new Map;for(let e of Oh){let t=[Ph];for(let n of e){let e=t.map((e=>{let t=e.get(n);return t||(t=new Map,e.set(n,t)),t}));n===fh?t.push(...e):t=e}for(let n of t)n.V=e}}function Sh(e){return(Bh(e)?"":`${_h(Rh([e]))} `)+jl(e)}function _h(e){return`"${e}"‎`}function Rh(e,t=1/0,n=jl){let r=[];var s;s=e[0],Ch(),bh.has(s)&&r.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,a=e.length;for(let t=0;t<a;t++){let s=e[t];Bh(s)&&(r.push(Gl(e.slice(i,t))),r.push(n(s)),i=t+1)}return r.push(Gl(e.slice(i,a))),r.join("")}function Bh(e){return Ch(),Eh.has(e)}function Lh(e,t,n){if(!e)return[];Ch();let r=0;return e.split(dh).map((e=>{let s=function(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}(e),i={input:s,offset:r};r+=s.length+1;try{let e,r=i.tokens=function(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let i=jh(e);if(i)s.length&&(r.push(t(s)),s=[]),r.push(n(i));else{let t=e.pop();if(Ih.has(t))s.push(t);else{let e=vh.get(t);if(e)s.push(...e);else if(!wh.has(t))throw Dh(t)}}}return s.length&&r.push(t(s)),r}(s,t,n),a=r.length;if(!a)throw new Error("empty label");let o=i.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(i.emoji=a>1||r[0].is_emoji)&&o.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==hh&&e[3]==hh)throw new Error(`invalid label extension: "${Gl(e.slice(0,4))}"`)}(o),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(bh.has(o[0]))throw Uh("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&bh.has(t[0]))throw Uh(`emoji + combining mark: "${Gl(r[e-1])} + ${Rh([t[0]])}"`)}!function(e){let t=e[0],n=Ol.get(t);if(n)throw Uh(`leading ${n}`);let r=e.length,s=-1;for(let i=1;i<r;i++){t=e[i];let r=Ol.get(t);if(r){if(s==i)throw Uh(`${n} + ${r}`);s=i+1,n=r}}if(s==r)throw Uh(`trailing ${n}`)}(o);let n=gh(new Set(t)),[s]=function(e){let t=kh;for(let n of e){let e=t.filter((e=>mh(e,n)));if(!e.length)throw kh.some((e=>mh(e,n)))?Fh(t[0],n):Dh(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!mh(e,n))throw Fh(e,n);if(e.M){let e=uh(t);for(let t=1,n=e.length;t<n;t++)if(Ah.has(e[t])){let r=t+1;for(let s;r<n&&Ah.has(s=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==s)throw new Error(`duplicate non-spacing marks: ${Sh(s)}`);if(r-t>Pl)throw new Error(`excessive non-spacing marks: ${_h(Rh(e.slice(t-1,r)))} (${r-t}/${Pl})`);t=r}}}(s,t),function(e,t){let n,r=[];for(let e of t){let t=Th.get(e);if(t===ph)return;if(t){let r=t.M.get(e);if(n=n?n.filter((e=>r.has(e))):gh(r),!n.length)return}else r.push(e)}if(n)for(let t of n)if(r.every((e=>mh(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(s,n),e=s.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i}))}function Dh(e){return new Error(`disallowed character: ${Sh(e)}`)}function Fh(e,t){let n=Sh(t),r=kh.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Uh(e){return new Error(`illegal placement: ${e}`)}function Mh(e){return e.filter((e=>e!=fh))}function jh(e,t){let n,r=Ph,s=e.length;for(;s&&(r=r.get(e[--s]),r);){let{V:i}=r;i&&(n=i,t&&t.push(...e.slice(s).reverse()),e.length=s)}return n}const Gh=new Uint8Array(32);function Vh(e){return wa(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Hh(e){const t=wo(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return function(e){return e.map((({input:t,error:n,output:r})=>{if(n){let r=n.message;throw new Error(1==e.length?r:`Invalid label ${_h(Rh(t,63))}: ${r}`)}return Gl(r)})).join(dh)}(Lh(e,lh,Mh))}(e)}catch(t){wa(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let e=0;e<t.length;e++)46===t[e]&&(n.push(Vh(t.slice(r,e))),r=e+1);return wa(r<t.length,"invalid ENS name; empty component","name",e),n.push(Vh(t.slice(r))),n}function Qh(e){wa("string"==typeof e,"invalid ENS name; not a string","name",e),wa(e.length,"invalid ENS name (empty label)","name",e);let t=Gh;const n=Hh(e);for(;n.length;)t=Ua(Ca([t,Ua(n.pop())]));return Pa(t)}function zh(e,t){const n=null!=t?t:63;return wa(n<=255,"DNS encoded label cannot exceed 255","length",n),Pa(Ca(Hh(e).map((t=>{wa(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}Gh.fill(0);class Zh extends Zi{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Hi(this.buffer)}update(e){Ci(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=zi(e)).length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a!==r)n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Hi(e);for(;r<=s-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ci(this),Si(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const a=Hi(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,u[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:a}=this;return e.length=r,e.pos=a,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}const qh=(e,t,n)=>e&t^~e&n,Jh=(e,t,n)=>e&t^e&n^t&n,Kh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wh=new Uint32Array(64);class $h extends Zh{constructor(){super(64,32,8,!1),this.A=0|Yh[0],this.B=0|Yh[1],this.C=0|Yh[2],this.D=0|Yh[3],this.E=0|Yh[4],this.F=0|Yh[5],this.G=0|Yh[6],this.H=0|Yh[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:a,H:o}=this;return[e,t,n,r,s,i,a,o]}set(e,t,n,r,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Wh[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Wh[e-15],n=Wh[e-2],r=Qi(t,7)^Qi(t,18)^t>>>3,s=Qi(n,17)^Qi(n,19)^n>>>10;Wh[e]=s+Wh[e-7]+r+Wh[e-16]|0}let{A:n,B:r,C:s,D:i,E:a,F:o,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Qi(a,6)^Qi(a,11)^Qi(a,25))+qh(a,o,c)+Kh[e]+Wh[e]|0,l=(Qi(n,2)^Qi(n,13)^Qi(n,22))+Jh(n,r,s)|0;u=c,c=o,o=a,a=i+t|0,i=s,s=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,i,a,o,c,u)}roundClean(){Wh.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xh=qi((()=>new $h)),[ed,td]=(()=>ji.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),nd=new Uint32Array(80),rd=new Uint32Array(80);class sd extends Zh{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:a,Dl:o,Eh:c,El:u,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,s,i,a,o,c,u,l,h,d,f,p,g]}set(e,t,n,r,s,i,a,o,c,u,l,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)nd[n]=e.getUint32(t),rd[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|nd[e-15],n=0|rd[e-15],r=ji.rotrSH(t,n,1)^ji.rotrSH(t,n,8)^ji.shrSH(t,n,7),s=ji.rotrSL(t,n,1)^ji.rotrSL(t,n,8)^ji.shrSL(t,n,7),i=0|nd[e-2],a=0|rd[e-2],o=ji.rotrSH(i,a,19)^ji.rotrBH(i,a,61)^ji.shrSH(i,a,6),c=ji.rotrSL(i,a,19)^ji.rotrBL(i,a,61)^ji.shrSL(i,a,6),u=ji.add4L(s,c,rd[e-7],rd[e-16]),l=ji.add4H(u,r,o,nd[e-7],nd[e-16]);nd[e]=0|l,rd[e]=0|u}let{Ah:n,Al:r,Bh:s,Bl:i,Ch:a,Cl:o,Dh:c,Dl:u,Eh:l,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=ji.rotrSH(l,h,14)^ji.rotrSH(l,h,18)^ji.rotrBH(l,h,41),v=ji.rotrSL(l,h,14)^ji.rotrSL(l,h,18)^ji.rotrBL(l,h,41),w=l&d^~l&p,b=h&f^~h&g,A=ji.add5L(y,v,b,td[e],rd[e]),E=ji.add5H(A,m,t,w,ed[e],nd[e]),x=0|A,k=ji.rotrSH(n,r,28)^ji.rotrBH(n,r,34)^ji.rotrBH(n,r,39),N=ji.rotrSL(n,r,28)^ji.rotrBL(n,r,34)^ji.rotrBL(n,r,39),T=n&s^n&a^s&a,I=r&i^r&o^i&o;m=0|p,y=0|g,p=0|d,g=0|f,d=0|l,f=0|h,({h:l,l:h}=ji.add(0|c,0|u,0|E,0|x)),c=0|a,u=0|o,a=0|s,o=0|i,s=0|n,i=0|r;const O=ji.add3L(x,N,I);n=ji.add3H(O,E,k,T),r=0|O}({h:n,l:r}=ji.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:i}=ji.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:a,l:o}=ji.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l:u}=ji.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=ji.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=ji.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=ji.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ji.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,s,i,a,o,c,u,l,h,d,f,p,g,m,y)}roundClean(){nd.fill(0),rd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const id=qi((()=>new sd)),ad=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function od(e){switch(e){case"sha256":return Xh.create();case"sha512":return id.create()}wa(!1,"invalid hashing algorithm name","algorithm",e)}ad.crypto||ad.msCrypto;const cd=function(e){return od("sha256").update(e).digest()},ud=function(e){return od("sha512").update(e).digest()};let ld=cd,hd=ud,dd=!1,fd=!1;function pd(e){const t=ka(e,"data");return Pa(ld(t))}function gd(e){const t=ka(e,"data");return Pa(hd(t))}pd._=cd,pd.lock=function(){dd=!0},pd.register=function(e){if(dd)throw new Error("sha256 is locked");ld=e},Object.freeze(pd),gd._=ud,gd.lock=function(){fd=!0},gd.register=function(e){if(fd)throw new Error("sha512 is locked");hd=e},Object.freeze(pd);const md="0x0000000000000000000000000000000000000000000000000000000000000000",yd=BigInt(0),vd=BigInt(1),wd=BigInt(2),bd=BigInt(27),Ad=BigInt(28),Ed=BigInt(35),xd={};function kd(e){return Ba(io(e),32)}class Nd{#re;#se;#ie;#ae;get r(){return this.#re}set r(e){wa(32===Sa(e),"invalid r","value",e),this.#re=Pa(e)}get s(){return this.#se}set s(e){wa(32===Sa(e),"invalid s","value",e);const t=Pa(e);wa(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#se=t}get v(){return this.#ie}set v(e){const t=ro(e,"value");wa(27===t||28===t,"invalid v","v",e),this.#ie=t}get networkV(){return this.#ae}get legacyChainId(){const e=this.networkV;return null==e?null:Nd.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=ka(this.s);return this.yParity&&(e[0]|=128),Pa(e)}get compactSerialized(){return Ca([this.r,this.yParityAndS])}get serialized(){return Ca([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){Ea(e,xd,"Signature"),this.#re=t,this.#se=n,this.#ie=r,this.#ae=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Nd(xd,this.r,this.s,this.v);return this.networkV&&(e.#ae=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Xa(e,"v");return t==bd||t==Ad?yd:(wa(t>=Ed,"invalid EIP-155 v","v",e),(t-Ed)/wd)}static getChainIdV(e,t){return Xa(e)*wd+BigInt(35+t-27)}static getNormalizedV(e){const t=Xa(e);return t===yd||t===bd?27:t===vd||t===Ad?28:(wa(t>=Ed,"invalid v","v",e),t&vd?27:28)}static from(e){function t(t,n){wa(t,n,"signature",e)}if(null==e)return new Nd(xd,md,md,27);if("string"==typeof e){const n=ka(e,"signature");if(64===n.length){const e=Pa(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new Nd(xd,e,Pa(t),r)}if(65===n.length){const e=Pa(n.slice(0,32)),r=n.slice(32,64);t(!(128&r[0]),"non-canonical s");const s=Nd.getNormalizedV(n[64]);return new Nd(xd,e,Pa(r),s)}t(!1,"invalid raw signature length")}if(e instanceof Nd)return e.clone();const n=e.r;t(null!=n,"missing r");const r=kd(n),s=function(e,n){if(null!=e)return kd(e);if(null!=n){t(Ta(n,32),"invalid yParityAndS");const e=ka(n);return e[0]&=127,Pa(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(!(128&ka(s)[0]),"non-canonical s");const{networkV:i,v:a}=function(e,n,r){if(null!=e){const t=Xa(e);return{networkV:t>=Ed?t:void 0,v:Nd.getNormalizedV(t)}}if(null!=n)return t(Ta(n,32),"invalid yParityAndS"),{v:128&ka(n)[0]?28:27};if(null!=r){switch(ro(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new Nd(xd,r,s,a);return i&&(o.#ae=i),t(null==e.yParity||ro(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}BigInt(0);const Td=BigInt(1),Id=BigInt(2),Od=e=>e instanceof Uint8Array,Pd=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Cd(e){if(!Od(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Pd[e[n]];return t}function Sd(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function _d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[t]=i}return n}function Rd(e){return Sd(Cd(e))}function Bd(e){if(!Od(e))throw new Error("Uint8Array expected");return Sd(Cd(Uint8Array.from(e).reverse()))}function Ld(e,t){return _d(e.toString(16).padStart(2*t,"0"))}function Dd(e,t){return Ld(e,t).reverse()}function Fd(e,t,n){let r;if("string"==typeof t)try{r=_d(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Od(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Ud(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Od(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const Md=e=>(Id<<BigInt(e-1))-Td,jd=e=>new Uint8Array(e),Gd=e=>Uint8Array.from(e);function Vd(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=jd(e),s=jd(e),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...e)=>n(s,r,...e),c=(e=jd())=>{s=o(Gd([0]),e),r=o(),0!==e.length&&(s=o(Gd([1]),e),r=o())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return Ud(...n)};return(e,t)=>{let n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}const Hd={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Qd(e,t,n={}){const r=(t,n,r)=>{const s=Hd[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||s(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const zd=BigInt(0),Zd=BigInt(1),qd=BigInt(2),Jd=BigInt(3),Kd=BigInt(4),Yd=BigInt(5),Wd=BigInt(8);function $d(e,t){const n=e%t;return n>=zd?n:t+n}function Xd(e,t,n){if(n<=zd||t<zd)throw new Error("Expected power/modulo > 0");if(n===Zd)return zd;let r=Zd;for(;t>zd;)t&Zd&&(r=r*e%n),e=e*e%n,t>>=Zd;return r}function ef(e,t,n){let r=e;for(;t-- >zd;)r*=r,r%=n;return r}function tf(e,t){if(e===zd||t<=zd)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=$d(e,t),r=t,s=zd,i=Zd,a=Zd,o=zd;for(;n!==zd;){const e=r/n,t=r%n,c=s-a*e,u=i-o*e;r=n,n=t,s=a,i=o,a=c,o=u}if(r!==Zd)throw new Error("invert: does not exist");return $d(s,t)}BigInt(9),BigInt(16);const nf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rf(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function sf(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function af(e){const t=sf(e);return t+Math.ceil(t/2)}class of extends Zi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Oi(e.outputLen),Oi(e.blockLen)}(e);const n=zi(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ci(this),this.iHash.update(e),this}digestInto(e){Ci(this),Pi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cf=(e,t,n)=>new of(e,t).update(n).digest();cf.create=(e,t)=>new of(e,t);const uf=BigInt(0),lf=BigInt(1);function hf(e){return Qd(e.Fp,nf.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Qd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:df,aT:ff}=r,pf={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=pf;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:df(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=pf,n="string"==typeof e?ff(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=pf._parseInt(n.subarray(2)),{d:a,l:o}=pf._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,a=s.length/2,o=n(i),c=n(a);return`30${n(a+i+4)}02${c}${s}02${o}${r}`}},gf=BigInt(0),mf=BigInt(1),yf=(BigInt(2),BigInt(3));function vf(e){const t=function(e){const t=hf(e);return Qd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function a(e){return $d(e,r)}function o(e){return tf(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=function(e){const t=function(e){const t=hf(e);Qd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Ud(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:s}=t,i=n.sqr(e),a=n.mul(i,e);return n.add(n.add(a,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&gf<e&&e<t.n}function o(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:i}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Cd(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"==typeof e?e:Rd(Fd("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return s&&(a=$d(a,i)),o(a),a}const u=new Map;function l(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(s(Fd("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const s=n.sqr(r),a=i(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:s}=this,{px:i,py:a,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(i,s)),u=n.eql(n.mul(r,o),n.mul(a,s));return c&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,yf),{px:i,py:a,pz:o}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(i,i),f=n.mul(a,a),p=n.mul(o,o),g=n.mul(i,a);return g=n.add(g,g),l=n.mul(i,o),l=n.add(l,l),c=n.mul(e,l),u=n.mul(s,p),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(g,c),l=n.mul(s,l),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,g),u=n.add(u,d),p=n.mul(a,o),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),l=n.mul(p,f),l=n.add(l,l),l=n.add(l,l),new h(c,u,l)}add(e){l(e);const{px:r,py:s,pz:i}=this,{px:a,py:o,pz:c}=e;let u=n.ZERO,d=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,yf);let m=n.mul(r,a),y=n.mul(s,o),v=n.mul(i,c),w=n.add(r,s),b=n.add(a,o);w=n.mul(w,b),b=n.add(m,y),w=n.sub(w,b),b=n.add(r,i);let A=n.add(a,c);return b=n.mul(b,A),A=n.add(m,v),b=n.sub(b,A),A=n.add(s,i),u=n.add(o,c),A=n.mul(A,u),u=n.add(y,v),A=n.sub(A,u),f=n.mul(p,b),u=n.mul(g,v),f=n.add(u,f),u=n.sub(y,f),f=n.add(y,f),d=n.mul(u,f),y=n.add(m,m),y=n.add(y,m),v=n.mul(p,v),b=n.mul(g,b),y=n.add(y,v),v=n.sub(m,v),v=n.mul(p,v),b=n.add(b,v),m=n.mul(y,b),d=n.add(d,m),m=n.mul(A,b),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),f=n.mul(A,f),f=n.add(f,m),new h(u,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===gf)return r;if(o(e),e===mf)return this;const{endo:s}=t;if(!s)return f.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:c,k2:u}=s.splitScalar(e),l=r,d=r,p=this;for(;a>gf||u>gf;)a&mf&&(l=l.add(p)),u&mf&&(d=d.add(p)),p=p.double(),a>>=mf,u>>=mf;return i&&(l=l.negate()),c&&(d=d.negate()),d=new h(n.mul(d.px,s.beta),d.py,d.pz),l.add(d)}multiply(e){o(e);let r,s,i=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:c}=a.splitScalar(i);let{p:u,f:l}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);u=f.constTimeNegate(e,u),d=f.constTimeNegate(o,d),d=new h(n.mul(d.px,a.beta),d.py,d.pz),r=u.add(d),s=l.add(p)}else{const{p:e,f:t}=this.wNAF(i);r=e,s=t}return h.normalizeZ([r,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,s=(e,t)=>t!==gf&&t!==mf&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:s}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(s));const a=n.mul(t,e),o=n.mul(r,e),c=n.mul(s,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===mf)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===mf?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(h,this,e)}toHex(e=!0){return Cd(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,s=t;for(;n>uf;)n&lf&&(r=r.add(s)),s=s.double(),n>>=lf;return r},precomputeWindow(e,t){const{windows:n,windowSize:s}=r(t),i=[];let a=e,o=a;for(let e=0;e<n;e++){o=a,i.push(o);for(let e=1;e<s;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,s,i){const{windows:a,windowSize:o}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let r=Number(i&l);i>>=d,r>o&&(r-=h,i+=lf);const a=t,f=t+Math.abs(r)-1,p=e%2!=0,g=r<0;0===r?u=u.add(n(p,s[a])):c=c.add(n(g,s[f]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const s=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,s),1!==s&&t.set(e,r(i))),this.wNAF(s,i,n)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}({...t,toBytes(e,t,r){const s=t.toAffine(),i=n.toBytes(s.x),a=Ud;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===i&&4===r)return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const e=Rd(a);if(!(gf<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let s=n.sqrt(t);return!(1&~r)!=((s&mf)===mf)&&(s=n.neg(s)),{x:e,y:s}}var o}}),d=e=>Cd(Ld(e,t.nByteLength));function f(e){return e>r>>mf}const p=(e,t,n)=>Rd(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Fd("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=pf.toSig(Fd("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r,s,recovery:i}=this,u=w(Fd("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=1&i?"03":"02",f=c.fromHex(h+d(l)),p=o(l),g=a(-u*p),m=a(s*p),y=c.BASE.multiplyAndAddUnsafe(f,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return _d(this.toDERHex())}toDERHex(){return pf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _d(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=af(t.n);return function(e,t,n=!1){const r=e.length,s=sf(t),i=af(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=$d(n?Rd(e):Bd(e),t-Zd)+Zd;return n?Dd(a,s):Ld(a,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===s||r===i:n?r===2*s||r===2*i:e instanceof c}const v=t.bits2int||function(e){const n=Rd(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(v(e))},b=Md(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(gf<=e&&e<b))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ld(e,t.nByteLength)}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,r,s=E){const{seed:i,k2sig:l}=function(e,r,s=E){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:m}=s;null==d&&(d=!0),e=Fd("msgHash",e),p&&(e=Fd("prehashed msgHash",i(e)));const y=w(e),b=u(r),x=[A(b),A(y)];if(null!=m){const e=!0===m?l(n.BYTES):m;x.push(Fd("extraEntropy",e))}const k=Ud(...x),N=y;return{seed:k,k2sig:function(e){const t=v(e);if(!h(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),s=a(r.x);if(s===gf)return;const i=a(n*a(N+s*b));if(i===gf)return;let u=(r.x===s?0:2)|Number(r.y&mf),l=i;return d&&f(i)&&(l=function(e){return f(e)?a(-e):e}(i),u^=1),new g(s,l,u)}}}(e,r,s),d=t;return Vd(d.hash.outputLen,d.nByteLength,d.hmac)(i,l)},verify:function(e,n,r,s=x){const i=e;if(n=Fd("msgHash",n),r=Fd("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=s;let h,d;try{if("string"==typeof i||i instanceof Uint8Array)try{h=g.fromDER(i)}catch(e){if(!(e instanceof pf.Err))throw e;h=g.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;h=new g(e,t)}}d=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(n=t.hash(n));const{r:f,s:p}=h,m=w(n),y=o(p),v=a(m*y),b=a(f*y),A=c.BASE.multiplyAndAddUnsafe(d,v,b)?.toAffine();return!!A&&a(A.x)===f},ProjectivePoint:c,Signature:g,utils:m}}function wf(e){return{hash:e,hmac:(t,...n)=>cf(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Vi(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}(...n)),randomBytes:Ji}}BigInt(4);const bf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Af=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ef=BigInt(1),xf=BigInt(2),kf=(e,t)=>(e+t/xf)/t;const Nf=function(e,t,n=!1,r={}){if(e<=zd)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=rf(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=function(e){if(e%Kd===Jd){const t=(e+Zd)/Kd;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Wd===Yd){const t=(e-Yd)/Wd;return function(e,n){const r=e.mul(n,qd),s=e.pow(r,t),i=e.mul(n,s),a=e.mul(e.mul(i,qd),s),o=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-Zd)/qd;let n,r,s;for(n=e-Zd,r=0;n%qd===zd;n/=qd,r++);for(s=qd;s<e&&Xd(s,t,e)!==e-Zd;s++);if(1===r){const t=(e+Zd)/Kd;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+Zd)/qd;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,s),n),u=e.pow(a,i),l=e.pow(a,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,Zd<<BigInt(o-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:Md(s),ZERO:zd,ONE:Zd,create:t=>$d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return zd<=t&&t<e},is0:e=>e===zd,isOdd:e=>(e&Zd)===Zd,neg:t=>$d(-t,e),eql:(e,t)=>e===t,sqr:t=>$d(t*t,e),add:(t,n)=>$d(t+n,e),sub:(t,n)=>$d(t-n,e),mul:(t,n)=>$d(t*n,e),pow:(e,t)=>function(e,t,n){if(n<zd)throw new Error("Expected power > 0");if(n===zd)return e.ONE;if(n===Zd)return t;let r=e.ONE,s=t;for(;n>zd;)n&Zd&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Zd;return r}(o,e,t),div:(t,n)=>$d(t*tf(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>tf(t,e),sqrt:r.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r))),e.ONE),s=e.inv(r);return t.reduceRight(((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r))),s),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Dd(e,i):Ld(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?Bd(e):Rd(e)}});return Object.freeze(o)}(bf,void 0,void 0,{sqrt:function(e){const t=bf,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,h=ef(l,n,t)*l%t,d=ef(h,n,t)*l%t,f=ef(d,xf,t)*u%t,p=ef(f,s,t)*f%t,g=ef(p,i,t)*p%t,m=ef(g,o,t)*g%t,y=ef(m,c,t)*m%t,v=ef(y,o,t)*g%t,w=ef(v,n,t)*l%t,b=ef(w,a,t)*p%t,A=ef(b,r,t)*u%t,E=ef(A,xf,t);if(!Nf.eql(Nf.sqr(E),e))throw new Error("Cannot find square root");return E}}),Tf=function(e,t){const n=t=>vf({...e,...wf(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Nf,n:Af,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Af,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ef*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=kf(i*e,t),c=kf(-r*e,t);let u=$d(e-o*n-c*s,t),l=$d(-o*r-c*i,t);const h=u>a,d=l>a;if(h&&(u=t-u),d&&(l=t-l),u>a||l>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:d,k2:l}}}},Xh);BigInt(0),Tf.ProjectivePoint;class If{#oe;constructor(e){wa(32===Sa(e),"invalid private key","privateKey","[REDACTED]"),this.#oe=Pa(e)}get privateKey(){return this.#oe}get publicKey(){return If.computePublicKey(this.#oe)}get compressedPublicKey(){return If.computePublicKey(this.#oe,!0)}sign(e){wa(32===Sa(e),"invalid digest length","digest",e);const t=Tf.sign(Na(e),Na(this.#oe),{lowS:!0});return Nd.from({r:so(t.r,32),s:so(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=If.computePublicKey(e);return Pa(Tf.getSharedSecret(Na(this.#oe),ka(t),!1))}static computePublicKey(e,t){let n=ka(e,"key");if(32===n.length)return Pa(Tf.getPublicKey(n,!!t));if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Pa(Tf.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){wa(32===Sa(e),"invalid digest length","digest",e);const n=Nd.from(t);let r=Tf.Signature.fromCompact(Na(Ca([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const s=r.recoverPublicKey(Na(e));return wa(null!=s,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const r=Tf.ProjectivePoint.fromHex(If.computePublicKey(e).substring(2)),s=Tf.ProjectivePoint.fromHex(If.computePublicKey(t).substring(2));return"0x"+r.add(s).toHex(!!n)}}function Of(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Pf(e,t,n){let r=0;for(let s=0;s<n;s++)r=256*r+e[t+s];return r}function Cf(e,t,n,r){const s=[];for(;n<t+1+r;){const i=Sf(e,n);s.push(i.result),va((n+=i.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function Sf(e,t){va(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{va(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=Pf(e,t+1,r);return n(t+1+r+s),Cf(e,t,t+1+r,r+s)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Cf(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=Pf(e,t+1,r);return n(t+1+r+s),{consumed:1+r+s,result:Pa(e.slice(t+1+r,t+1+r+s))}}if(e[t]>=128){const r=e[t]-128;return n(t+1+r),{consumed:1+r,result:Pa(e.slice(t+1,t+1+r))}}return{consumed:1,result:Of(e[t])}}function _f(e){const t=ka(e,"data"),n=Sf(t,0);return wa(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Rf(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Bf(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Bf(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=Rf(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(ka(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Rf(t.length);return n.unshift(183+n.length),n.concat(t)}const Lf="0123456789abcdef";function Df(e){let t="0x";for(const n of Bf(e))t+=Lf[n>>4],t+=Lf[15&n];return t}const Ff=BigInt(0),Uf=BigInt(2),Mf=BigInt(27),jf=BigInt(28),Gf=BigInt(35),Vf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Hf=131072;function Qf(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=pd(t).substring(4),"0x"+n}function zf(e){return"0x"===e?null:za(e)}function Zf(e,t){try{return qa(e)}catch(n){wa(!1,n.message,t,e)}}function qf(e,t){return"0x"===e?0:ro(e,t)}function Jf(e,t){if("0x"===e)return Ff;const n=Xa(e,t);return wa(n<=Vf,"value exceeds uint size",t,n),n}function Kf(e,t){const n=Xa(e,"value"),r=io(n);return wa(r.length<=32,"value too large",`tx.${t}`,n),r}function Yf(e){return qa(e).map((e=>[e.address,e.storageKeys]))}function Wf(e,t){wa(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)wa(Ta(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function $f(e,t){let n;try{if(n=qf(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(e){wa(!1,"invalid yParity","yParity",t[0])}const r=Ba(t[1],32),s=Ba(t[2],32),i=Nd.from({r,s,yParity:n});e.signature=i}class Xf{#ce;#ue;#a;#le;#he;#de;#fe;#pe;#ge;#r;#me;#ye;#ve;#we;#be;#Ae;get type(){return this.#ce}set type(e){switch(e){case null:this.#ce=null;break;case 0:case"legacy":this.#ce=0;break;case 1:case"berlin":case"eip-2930":this.#ce=1;break;case 2:case"london":case"eip-1559":this.#ce=2;break;case 3:case"cancun":case"eip-4844":this.#ce=3;break;default:wa(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#ue;return null==e&&3===this.type?ju:e}set to(e){this.#ue=null==e?null:za(e)}get nonce(){return this.#le}set nonce(e){this.#le=ro(e,"value")}get gasLimit(){return this.#he}set gasLimit(e){this.#he=Xa(e)}get gasPrice(){const e=this.#de;return null!=e||0!==this.type&&1!==this.type?e:Ff}set gasPrice(e){this.#de=null==e?null:Xa(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#fe;return null==e?2===this.type||3===this.type?Ff:null:e}set maxPriorityFeePerGas(e){this.#fe=null==e?null:Xa(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#pe;return null==e?2===this.type||3===this.type?Ff:null:e}set maxFeePerGas(e){this.#pe=null==e?null:Xa(e,"maxFeePerGas")}get data(){return this.#a}set data(e){this.#a=Pa(e)}get value(){return this.#ge}set value(e){this.#ge=Xa(e,"value")}get chainId(){return this.#r}set chainId(e){this.#r=Xa(e)}get signature(){return this.#me||null}set signature(e){this.#me=null==e?null:Nd.from(e)}get accessList(){const e=this.#ye||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#ye=null==e?null:qa(e)}get maxFeePerBlobGas(){const e=this.#ve;return null==e&&3===this.type?Ff:e}set maxFeePerBlobGas(e){this.#ve=null==e?null:Xa(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#we;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){wa(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)wa(Ta(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#we=e}get blobs(){return null==this.#Ae?null:this.#Ae.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#Ae=null);const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(Ia(s)){va(this.#be,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=ka(s);if(wa(e.length<=Hf,"blob is too large",`blobs[${r}]`,s),e.length!==Hf){const t=new Uint8Array(Hf);t.set(e),e=t}const i=this.#be.blobToKzgCommitment(e),a=Pa(this.#be.computeBlobKzgProof(e,i));t.push({data:Pa(e),commitment:Pa(i),proof:a}),n.push(Qf(1,i))}else{const e=Pa(s.commitment);t.push({data:Pa(s.data),commitment:e,proof:Pa(s.proof)}),n.push(Qf(1,e))}}this.#Ae=t,this.#we=n}get kzg(){return this.#be}set kzg(e){this.#be=e}constructor(){this.#ce=null,this.#ue=null,this.#le=0,this.#he=Ff,this.#de=null,this.#fe=null,this.#pe=null,this.#a="0x",this.#ge=Ff,this.#r=Ff,this.#me=null,this.#ye=null,this.#ve=null,this.#we=null,this.#Ae=null,this.#be=null}get hash(){return null==this.signature?null:Ua(this.#Ee(!0,!1))}get unsignedHash(){return Ua(this.unsignedSerialized)}get from(){return null==this.signature?null:(e=this.unsignedHash,t=this.signature,function(e){let t;return t="string"==typeof e?If.computePublicKey(e,!1):e.publicKey,za(Ua("0x"+t.substring(4)).substring(26))}(If.recoverPublicKey(e,t)));var e,t}get fromPublicKey(){return null==this.signature?null:If.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#Ee(e,t){va(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Kf(e.nonce,"nonce"),Kf(e.gasPrice||0,"gasPrice"),Kf(e.gasLimit,"gasLimit"),e.to||"0x",Kf(e.value,"value"),e.data];let r=Ff;if(e.chainId!=Ff)r=Xa(e.chainId,"tx.chainId"),wa(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Ff&&(n.push(io(r)),n.push("0x"),n.push("0x")),Df(n);let s=BigInt(27+t.yParity);return r!==Ff?s=Nd.getChainIdV(r,t.v):BigInt(t.v)!==s&&wa(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(io(s)),n.push(io(t.r)),n.push(io(t.s)),Df(n)}(this,n);case 1:return function(e,t){const n=[Kf(e.chainId,"chainId"),Kf(e.nonce,"nonce"),Kf(e.gasPrice||0,"gasPrice"),Kf(e.gasLimit,"gasLimit"),e.to||"0x",Kf(e.value,"value"),e.data,Yf(e.accessList||[])];return t&&(n.push(Kf(t.yParity,"recoveryParam")),n.push(io(t.r)),n.push(io(t.s))),Ca(["0x01",Df(n)])}(this,n);case 2:return function(e,t){const n=[Kf(e.chainId,"chainId"),Kf(e.nonce,"nonce"),Kf(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kf(e.maxFeePerGas||0,"maxFeePerGas"),Kf(e.gasLimit,"gasLimit"),e.to||"0x",Kf(e.value,"value"),e.data,Yf(e.accessList||[])];return t&&(n.push(Kf(t.yParity,"yParity")),n.push(io(t.r)),n.push(io(t.s))),Ca(["0x02",Df(n)])}(this,n);case 3:return function(e,t,n){const r=[Kf(e.chainId,"chainId"),Kf(e.nonce,"nonce"),Kf(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kf(e.maxFeePerGas||0,"maxFeePerGas"),Kf(e.gasLimit,"gasLimit"),e.to||ju,Kf(e.value,"value"),e.data,Yf(e.accessList||[]),Kf(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Wf(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Kf(t.yParity,"yParity")),r.push(io(t.r)),r.push(io(t.s)),n)?Ca(["0x03",Df([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):Ca(["0x03",Df(r)])}(this,n,t?this.blobs:null)}va(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#Ee(!0,!0)}get unsignedSerialized(){return this.#Ee(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#ve||this.#we;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&va(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),va(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),va(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):t?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Xf.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Xf;if("string"==typeof e){const t=ka(e);if(t[0]>=127)return Xf.from(function(e){const t=_f(e);wa(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:qf(t[0],"nonce"),gasPrice:Jf(t[1],"gasPrice"),gasLimit:Jf(t[2],"gasLimit"),to:zf(t[3]),value:Jf(t[4],"value"),data:Pa(t[5]),chainId:Ff};if(6===t.length)return n;const r=Jf(t[6],"v"),s=Jf(t[7],"r"),i=Jf(t[8],"s");if(s===Ff&&i===Ff)n.chainId=r;else{let e=(r-Gf)/Uf;e<Ff&&(e=Ff),n.chainId=e,wa(e!==Ff||r===Mf||r===jf,"non-canonical legacy v","v",t[6]),n.signature=Nd.from({r:Ba(t[7],32),s:Ba(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Xf.from(function(e){const t=_f(ka(e).slice(1));wa(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Pa(e));const n={type:1,chainId:Jf(t[0],"chainId"),nonce:qf(t[1],"nonce"),gasPrice:Jf(t[2],"gasPrice"),gasLimit:Jf(t[3],"gasLimit"),to:zf(t[4]),value:Jf(t[5],"value"),data:Pa(t[6]),accessList:Zf(t[7],"accessList")};return 8===t.length||$f(n,t.slice(8)),n}(t));case 2:return Xf.from(function(e){const t=_f(ka(e).slice(1));wa(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Pa(e));const n={type:2,chainId:Jf(t[0],"chainId"),nonce:qf(t[1],"nonce"),maxPriorityFeePerGas:Jf(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Jf(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Jf(t[4],"gasLimit"),to:zf(t[5]),value:Jf(t[6],"value"),data:Pa(t[7]),accessList:Zf(t[8],"accessList")};return 9===t.length||$f(n,t.slice(9)),n}(t));case 3:return Xf.from(function(e){let t=_f(ka(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],s=t[2],i=t[3];wa(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),wa(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),wa(Array.isArray(i),"invalid network format: proofs not an array","fields[3]",i),wa(e.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",t),wa(e.length===i.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:s[n],proof:i[n]});t=t[0]}wa(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",Pa(e));const s={type:3,chainId:Jf(t[0],"chainId"),nonce:qf(t[1],"nonce"),maxPriorityFeePerGas:Jf(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Jf(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Jf(t[4],"gasLimit"),to:zf(t[5]),value:Jf(t[6],"value"),data:Pa(t[7]),accessList:Zf(t[8],"accessList"),maxFeePerBlobGas:Jf(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(s.blobs=r),wa(null!=s.to,`invalid address for transaction type: ${n}`,"data",e),wa(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<s.blobVersionedHashes.length;t++)wa(Ta(s.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||$f(s,t.slice(11)),s}(t))}va(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Xf;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Nd.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(wa(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),wa(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(wa(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),wa(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const ep="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const tp=BigInt(58);function np(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):wa(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class rp{name;constructor(e){fa(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const sp=new RegExp("^(ipfs)://(.*)$","i"),ip=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),sp,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class ap{provider;address;name;#xe;#ke;constructor(e,t,n){fa(this,{provider:e,address:t,name:n}),this.#xe=null,this.#ke=new Tl(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#xe&&(this.#xe=(async()=>{try{return await this.#ke.supportsInterface("0x9061b923")}catch(e){if(ga(e,"CALL_EXCEPTION"))return!1;throw this.#xe=null,e}})()),await this.#xe}async#Ne(e,t){t=(t||[]).slice();const n=this.#ke.interface;t.unshift(Qh(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),va(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[zh(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await this.#ke[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(e){if(!ga(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Ne("addr(bytes32)");return null==e||e===ju?null:e}catch(e){if(ga(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#Ne("addr(bytes32,uint)",[t]);if(Ta(n,20))return za(n)}let t=null;for(const n of this.provider.plugins)if(n instanceof rp&&n.supportsCoinType(e)){t=n;break}if(null==t)return null;const n=await this.#Ne("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;va(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#Ne("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Ne("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=ka(e);let n=no(t),r="";for(;n;)r=ep[Number(n%tp)]+r,n/=tp;for(let e=0;e<t.length&&!t[e];e++)r=ep[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;va(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<ip.length;n++){const r=t.match(ip[n]);if(null==r)continue;const s=r[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const n=np(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:n}),{linkage:e,url:n}}case"erc721":case"erc1155":{const n="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(r[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:e};const o=a[1],c=new Tl(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await c.ownerOf(o);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await c.balanceOf(i,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await c[n](o);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",so(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=np(u)),e.push({type:"metadata-url",value:u});let l={};const h=await new Fu(u).send();h.assertOk();try{l=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:Pa(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!l)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(l)});let d=l.image;if("string"!=typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(sp))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=np(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return va(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Te(e,t){const n=await ap.getEnsAddress(e);try{const r=new Tl(n,["function resolver(bytes32) view returns (address)"],e),s=await r.resolver(Qh(t),{enableCcipRead:!0});return s===ju?null:s}catch(e){throw e}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await ap.#Te(e,n);if(null!=r){const s=new ap(e,r,t);return n===t||await s.supportsWildcard()?s:null}n=n.split(".").slice(1).join(".")}}}const op=BigInt(0);function cp(e,t){return function(n){return null==n?t:e(n)}}function up(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function lp(e,t){return n=>{const r={};for(const s in e){let i=s;if(t&&s in t&&!(i in n))for(const e of t[s])if(e in n){i=e;break}try{const t=e[s](n[i]);void 0!==t&&(r[s]=t)}catch(e){va(!1,`invalid value for value.${s} (${e instanceof Error?e.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function hp(e){return wa(Ta(e,!0),"invalid data","value",e),e}function dp(e){return wa(Ta(e,32),"invalid hash","value",e),e}const fp=lp({address:za,blockHash:dp,blockNumber:ro,data:hp,index:ro,removed:cp((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}wa(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:up(dp),transactionHash:dp,transactionIndex:ro},{index:["logIndex"]}),pp=lp({hash:cp(dp),parentHash:dp,parentBeaconBlockRoot:cp(dp,null),number:ro,timestamp:ro,nonce:cp(hp),difficulty:Xa,gasLimit:Xa,gasUsed:Xa,stateRoot:cp(dp,null),receiptsRoot:cp(dp,null),blobGasUsed:cp(Xa,null),excessBlobGas:cp(Xa,null),miner:cp(za),prevRandao:cp(dp,null),extraData:hp,baseFeePerGas:cp(Xa)},{prevRandao:["mixHash"]}),gp=lp({transactionIndex:ro,blockNumber:ro,transactionHash:dp,address:za,topics:up(dp),data:hp,index:ro,blockHash:dp},{index:["logIndex"]}),mp=lp({to:cp(za,null),from:cp(za,null),contractAddress:cp(za,null),index:ro,root:cp(Pa),gasUsed:Xa,blobGasUsed:cp(Xa,null),logsBloom:cp(hp),blockHash:dp,hash:dp,logs:up((function(e){return gp(e)})),blockNumber:ro,cumulativeGasUsed:Xa,effectiveGasPrice:cp(Xa),blobGasPrice:cp(Xa,null),status:cp(ro),type:cp(ro,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function yp(e){e.to&&Xa(e.to)===op&&(e.to="0x0000000000000000000000000000000000000000");const t=lp({hash:dp,index:cp(ro,void 0),type:e=>"0x"===e||null==e?0:ro(e),accessList:cp(qa,null),blobVersionedHashes:cp(up(dp,!0),null),blockHash:cp(dp,null),blockNumber:cp(ro,null),transactionIndex:cp(ro,null),from:za,gasPrice:cp(Xa),maxPriorityFeePerGas:cp(Xa),maxFeePerGas:cp(Xa),maxFeePerBlobGas:cp(Xa,null),gasLimit:Xa,to:cp(za,null),value:Xa,nonce:ro,data:hp,creates:cp(za,null),chainId:cp(Xa,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=za(e.from);let n=Xa(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,za(_a(Ua(Df([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Nd.from(e.signature):t.signature=Nd.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Xa(t.blockHash)===op&&(t.blockHash=null),t}function vp(e){return JSON.parse(JSON.stringify(e))}class wp{#Ie;#Oe;#Pe;#Ce;constructor(e){this.#Ie=e,this.#Oe=null,this.#Pe=4e3,this.#Ce=-2}get pollingInterval(){return this.#Pe}set pollingInterval(e){this.#Pe=e}async#Se(){try{const e=await this.#Ie.getBlockNumber();if(-2===this.#Ce)return void(this.#Ce=e);if(e!==this.#Ce){for(let t=this.#Ce+1;t<=e;t++){if(null==this.#Oe)return;await this.#Ie.emit("block",t)}this.#Ce=e}}catch(e){}null!=this.#Oe&&(this.#Oe=this.#Ie._setTimeout(this.#Se.bind(this),this.#Pe))}start(){this.#Oe||(this.#Oe=this.#Ie._setTimeout(this.#Se.bind(this),this.#Pe),this.#Se())}stop(){this.#Oe&&(this.#Ie._clearTimeout(this.#Oe),this.#Oe=null)}pause(e){this.stop(),e&&(this.#Ce=-2)}resume(){this.start()}}class bp{#Ie;#Se;#_e;constructor(e){this.#Ie=e,this.#_e=!1,this.#Se=e=>{this._poll(e,this.#Ie)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#_e||(this.#_e=!0,this.#Se(-2),this.#Ie.on("block",this.#Se))}stop(){this.#_e&&(this.#_e=!1,this.#Ie.off("block",this.#Se))}pause(e){this.stop()}resume(){this.start()}}class Ap extends bp{#Re;#Be;constructor(e,t){super(e),this.#Re=t,this.#Be=-2}pause(e){e&&(this.#Be=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Re);null!=n&&(-2===this.#Be?this.#Be=n.number:n.number>this.#Be&&(t.emit(this.#Re,n.number),this.#Be=n.number))}}class Ep extends bp{#ne;constructor(e,t){super(e),this.#ne=vp(t)}async _poll(e,t){throw new Error("@TODO")}}class xp extends bp{#Le;constructor(e,t){super(e),this.#Le=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Le);n&&t.emit(this.#Le,n)}}class kp{#Ie;#ne;#Oe;#_e;#Ce;constructor(e,t){this.#Ie=e,this.#ne=vp(t),this.#Oe=this.#Se.bind(this),this.#_e=!1,this.#Ce=-2}async#Se(e){if(-2===this.#Ce)return;const t=vp(this.#ne);t.fromBlock=this.#Ce+1,t.toBlock=e;const n=await this.#Ie.getLogs(t);if(0!==n.length)for(const e of n)this.#Ie.emit(this.#ne,e),this.#Ce=e.blockNumber;else this.#Ce<e-60&&(this.#Ce=e-60)}start(){this.#_e||(this.#_e=!0,-2===this.#Ce&&this.#Ie.getBlockNumber().then((e=>{this.#Ce=e})),this.#Ie.on("block",this.#Oe))}stop(){this.#_e&&(this.#_e=!1,this.#Ie.off("block",this.#Oe))}pause(e){this.stop(),e&&(this.#Ce=-2)}resume(){this.start()}}const Np=BigInt(2);function Tp(e){return e&&"function"==typeof e.then}function Ip(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class Op{name;constructor(e){fa(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Pp(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Cp(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Ta(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Ip("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Ip("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?Pp(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],s=[],i=n=>{Ta(n)?e.push(n):s.push((async()=>{e.push(await lu(n,t))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),s.length&&await Promise.all(s),r.address=Pp(e.map((e=>e.toLowerCase())))}return{filter:r,tag:Ip("event",r),type:"event"}}wa(!1,"unknown ProviderEvent","event",e)}function Sp(){return(new Date).getTime()}const _p={cacheTimeout:250,pollingInterval:4e3};class Rp{#De;#s;#Fe;#Ue;#Me;#je;#Ge;#Ve;#He;#Qe;#ze;#g;constructor(e,t){if(this.#g=Object.assign({},_p,t||{}),"any"===e)this.#je=!0,this.#Me=null;else if(e){const t=fo.from(e);this.#je=!1,this.#Me=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#je=!1,this.#Me=null;this.#Ve=-1,this.#Ge=new Map,this.#De=new Map,this.#s=new Map,this.#Fe=null,this.#Ue=!1,this.#He=1,this.#Qe=new Map,this.#ze=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#s.values())}attachPlugin(e){if(this.#s.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#s.set(e.name,e.connect(this)),this}getPlugin(e){return this.#s.get(e)||null}get disableCcipRead(){return this.#ze}set disableCcipRead(e){this.#ze=!!e}async#Ze(e){const t=this.#g.cacheTimeout;if(t<0)return await this._perform(e);const n=Ip(e.method,e);let r=this.#Ge.get(n);return r||(r=this._perform(e),this.#Ge.set(n,r),setTimeout((()=>{this.#Ge.get(n)===r&&this.#Ge.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),i=[];for(let t=0;t<n.length;t++){const a=n[t],o=a.replace("{sender}",r).replace("{data}",s),c=new Fu(o);-1===a.indexOf("{data}")&&(c.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:t,urls:n});let u="unknown error";const l=await c.send();try{const e=l.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(e){}va(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:a,errorMessage:u}}),i.push(u)}va(!1,`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:i}})}_wrapBlock(e,t){return new Zu(function(e){const t=pp(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:yp(e))),t}(e),this)}_wrapLog(e,t){return new qu(function(e){return fp(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Ju(function(e){return mp(e)}(e),this)}_wrapTransactionResponse(e,t){return new Ku(yp(e),this)}_detectNetwork(){va(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){va(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ro(await this.#Ze({method:"getBlockNumber"}),"%response");return this.#Ve>=0&&(this.#Ve=e),e}_getAddress(e){return lu(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Ta(e)?Ta(e,32)?e:ao(e):("bigint"==typeof e&&(e=ro(e,"blockTag")),"number"==typeof e?e>=0?ao(e):this.#Ve>=0?ao(this.#Ve+e):this.getBlockNumber().then((t=>ao(t+e))):void wa(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Pp(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,s)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(n&&(null!=r||null!=s))throw new Error("invalid filter");const a={};return i&&(a.address=i),t.length&&(a.topics=t),r&&(a.fromBlock=r),s&&(a.toBlock=s),n&&(a.blockHash=n),a};let s,i,a=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!=typeof e)).length||null!=s&&"string"!=typeof s||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),s,i]).then((e=>r(e[0],e[1],e[2]))):r(a,s,i)}_getTransactionRequest(e){const t=zu(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=lu(t[e],this);Tp(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);Tp(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#Me){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Me===e&&(this.#Me=null),t}})();return this.#Me=e,(await e).clone()}const e=this.#Me,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#je?(this.emit("network",n,t),this.#Me===e&&(this.#Me=Promise.resolve(n))):va(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await da({_block:this.#qe("latest",!1),gasPrice:(async()=>{try{return Xa(await this.#Ze({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Xa(await this.#Ze({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let s=null,i=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(i=null!=r?r:BigInt("1000000000"),s=a.baseFeePerGas*Np+i),new Qu(n,s,i)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Fu(n.url),r=await n.processFunc(t,this,e);return new Qu(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Tp(t)&&(t=await t),Xa(await this.#Ze({method:"estimateGas",transaction:t}),"%response")}async#Je(e,t,n){va(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=zu(e);try{return Pa(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(e){if(!this.disableCcipRead&&ma(e)&&e.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===_a(e.data,0,4)){const s=e.data,i=await lu(r.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};va(Sa(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=_a(e,0,32);va(_a(n,0,12)===_a(jp,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=_a(n,12);try{const n=[],r=ro(_a(e,32,64)),s=ro(_a(e,r,r+32)),i=_a(e,r+32);for(let e=0;e<s;e++){const t=Bp(i,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(e){va(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Lp(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(e){va(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}va(_a(e,100,128)===_a(jp,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=_a(e,96,100);try{const n=Lp(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(e){va(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(_a(e.data,4))}catch(e){va(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:s}})}va(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(r,a.calldata,a.urls);va(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:e.data,errorArgs:a.errorArgs}});const c={to:i,data:Ca([a.selector,Mp([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Je(c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:e}),e}}throw e}}async#Ke(e){const{value:t}=await da({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await da({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Ke(this.#Je(t,n,e.enableCcipRead?0:-1))}async#Ye(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return"string"==typeof r&&"string"==typeof s||([r,s]=await Promise.all([r,s])),await this.#Ke(this.#Ze(Object.assign(e,{address:r,blockTag:s})))}async getBalance(e,t){return Xa(await this.#Ye({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return ro(await this.#Ye({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Pa(await this.#Ye({method:"getCode"},e,t))}async getStorage(e,t,n){const r=Xa(t,"position");return Pa(await this.#Ye({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await da({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Xf.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async#qe(e,t){if(Ta(e,32))return await this.#Ze({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!=typeof n&&(n=await n),await this.#Ze({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await da({network:this.getNetwork(),params:this.#qe(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await da({network:this.getNetwork(),params:this.#Ze({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await da({network:this.getNetwork(),params:this.#Ze({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#Ze({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await da({network:this.getNetwork(),result:this.#Ze({method:"getTransactionResult",hash:e})});return null==t?null:Pa(t)}async getLogs(e){let t=this._getFilter(e);Tp(t)&&(t=await t);const{network:n,params:r}=await da({network:this.getNetwork(),params:this.#Ze({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){va(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ap.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Qh((e=za(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await ap.getEnsAddress(this),r=new Tl(n,["function resolver(bytes32) view returns (address)"],this),s=await r.resolver(t);if(null==s||s===ju)return null;const i=new Tl(s,["function name(bytes32) view returns (string)"],this),a=await i.name(t);return await this.resolveName(a)!==e?null:a}catch(e){if(ga(e,"BAD_DATA")&&"0x"===e.value)return null;if(ga(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,s)=>{let i=null;const a=async n=>{try{const s=await this.getTransactionReceipt(e);if(null!=s&&n-s.blockNumber+1>=r)return t(s),void(i&&(clearTimeout(i),i=null))}catch(e){console.log("EEE",e)}this.once("block",a)};null!=n&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",a),s(ya("timeout","TIMEOUT",{reason:"timeout"})))}),n)),a(await this.getBlockNumber())}))}async waitForBlock(e){va(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Qe.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Qe.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#He++,r=()=>{this.#Qe.delete(n),e()};if(this.paused)this.#Qe.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#Qe.set(n,{timer:e,func:r,time:Sp()})}return n}_forEachSubscriber(e){for(const t of this.#De.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Op(e.type);case"block":{const e=new wp(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Ap(this,e.type);case"event":return new kp(this,e.filter);case"transaction":return new xp(this,e.hash);case"orphan":return new Ep(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#De.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Fe&&t.pause(this.#Fe);break}}async#We(e,t){let n=await Cp(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Cp({orphan:"drop-log",log:t[0]},this)),this.#De.get(n.tag)||null}async#$e(e){const t=await Cp(e,this),n=t.tag;let r=this.#De.get(n);return r||(r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#De.set(n,r)),r}async on(e,t){const n=await this.#$e(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Fe&&n.subscriber.pause(this.#Fe)),this}async once(e,t){const n=await this.#$e(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Fe&&n.subscriber.pause(this.#Fe)),this}async emit(e,...t){const n=await this.#We(e,t);if(!n||0===n.listeners.length)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter((({listener:n,once:r})=>{const s=new $u(this,r?null:n,e);try{n.call(this,...t,s)}catch(e){}return!r})),0===n.listeners.length&&(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),r>0}async listenerCount(e){if(e){const t=await this.#We(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#De.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#We(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#De.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const n=await this.#We(e);if(!n)return this;if(t){const e=n.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#$e(e);n&&r.stop(),this.#De.delete(t)}else for(const[e,{started:t,subscriber:n}]of this.#De)t&&n.stop(),this.#De.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Ue}destroy(){this.removeAllListeners();for(const e of this.#Qe.keys())this._clearTimeout(e);this.#Ue=!0}get paused(){return null!=this.#Fe}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Ve=-1,null!=this.#Fe){if(this.#Fe==!!e)return;va(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Fe=!!e;for(const e of this.#Qe.values())e.timer&&clearTimeout(e.timer),e.time=Sp()-e.time}resume(){if(null!=this.#Fe){this._forEachSubscriber((e=>e.resume())),this.#Fe=null;for(const e of this.#Qe.values()){let t=e.time;t<0&&(t=0),e.time=Sp(),setTimeout(e.func,t)}}}}function Bp(e,t){try{const n=Lp(e,t);if(n)return bo(n)}catch(e){}return null}function Lp(e,t){if("0x"===e)return null;try{const n=ro(_a(e,t,t+32)),r=ro(_a(e,n,n+32));return _a(e,n+32,n+32+r)}catch(e){}return null}function Dp(e){const t=io(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Fp(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Up=new Uint8Array([]);function Mp(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Up),n+=32;for(let r=0;r<e.length;r++){const s=ka(e[r]);t[r]=Dp(n),t.push(Dp(s.length)),t.push(Fp(s)),n+=32+32*Math.ceil(s.length/32)}return Ca(t)}const jp="0x0000000000000000000000000000000000000000000000000000000000000000";function Gp(e,t){if(e.provider)return e.provider;va(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Vp(e,t){let n=zu(t);if(null!=n.to&&(n.to=lu(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),lu(t,e)]).then((([e,t])=>(wa(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else n.from=e.getAddress();return await da(n)}class Hp{provider;constructor(e){fa(this,{provider:e||null})}async getNonce(e){return Gp(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Vp(this,e)}async populateTransaction(e){const t=Gp(this,"populateTransaction"),n=await Vp(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();null!=n.chainId?wa(Xa(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):n.chainId=r.chainId;const s=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!s?0!==n.type&&1!==n.type||!s||wa(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):wa(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();va(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(va(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):va(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await da(n)}async estimateGas(e){return Gp(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Gp(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Gp(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Gp(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Xf.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class Qp{#Ie;#Xe;#Oe;#_e;#et;#tt;constructor(e){this.#Ie=e,this.#Xe=null,this.#Oe=this.#Se.bind(this),this.#_e=!1,this.#et=null,this.#tt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Se(e){try{null==this.#Xe&&(this.#Xe=this._subscribe(this.#Ie));let e=null;try{e=await this.#Xe}catch(e){if(!ga(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Xe=null,void this.#Ie._recoverSubscriber(this,this._recover(this.#Ie));const t=await this.#Ie.getNetwork();if(this.#et||(this.#et=t),this.#et.chainId!==t.chainId)throw new Error("chaid changed");if(this.#tt)return;const n=await this.#Ie.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Ie,n)}catch(e){console.log("@TODO",e)}this.#Ie.once("block",this.#Oe)}#nt(){const e=this.#Xe;e&&(this.#Xe=null,e.then((e=>{this.#Ie.destroyed||this.#Ie.send("eth_uninstallFilter",[e])})))}start(){this.#_e||(this.#_e=!0,this.#Se(-2))}stop(){this.#_e&&(this.#_e=!1,this.#tt=!0,this.#nt(),this.#Ie.off("block",this.#Oe))}pause(e){e&&this.#nt(),this.#Ie.off("block",this.#Oe)}resume(){this.start()}}class zp extends Qp{#rt;constructor(e,t){var n;super(e),this.#rt=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new kp(e,this.#rt)}async _subscribe(e){return await e.send("eth_newFilter",[this.#rt])}async _emitResults(e,t){for(const n of t)e.emit(this.#rt,e._wrapLog(n,e._network))}}class Zp extends Qp{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const qp="bigint,boolean,function,number,string,symbol".split(/,/g);function Jp(e){if(null==e||qp.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Jp);if("object"==typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Kp(e){return new Promise((t=>{setTimeout(t,e)}))}function Yp(e){return e?e.toLowerCase():e}function Wp(e){return e&&"number"==typeof e.pollingInterval}const $p={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Xp extends Hp{address;constructor(e,t){super(e),fa(this,{address:t=za(t)})}connect(e){va(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Jp(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await lu(r,this.provider);wa(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await lu(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const s=[1e3,100];let i=0;const a=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(e){if(ga(e,"CANCELLED")||ga(e,"BAD_DATA")||ga(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=n,void r(e);if(ga(e,"INVALID_ARGUMENT")&&(i++,null==e.info&&(e.info={}),e.info.sendTransactionHash=n,i>10))return void r(e);this.provider.emit("error",ya("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{a()}),s.pop()||4e3)};a()}))}async signTransaction(e){const t=Jp(e);if(t.from){const n=await lu(t.from,this.provider);wa(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?wo(e):e;return await this.provider.send("personal_sign",[Pa(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Jp(n),s=await Nu.resolveNames(e,t,r,(async e=>{const t=await lu(e);return wa(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Nu.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?wo(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Pa(t)])}}class eg extends Rp{#g;#st;#it;#at;#ot;#et;#ct;#ut(){if(this.#at)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#at=setTimeout((()=>{this.#at=null;const e=this.#it;for(this.#it=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#g.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#g.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:s}of t){if(this.destroyed){r(ya("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=n.filter((e=>e.id===s.id))[0];if(null!=t)"error"in t?r(this.getRpcError(s,t)):e(t.result);else{const e=ya("missing response for request","BAD_DATA",{value:n,info:{payload:s}});this.emit("error",e),r(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:n}of t)n(e)}})()}}),e)}constructor(e,t){super(e,t),this.#st=1,this.#g=Object.assign({},$p,t||{}),this.#it=[],this.#at=null,this.#et=null,this.#ct=null;{let e=null;const t=new Promise((t=>{e=t}));this.#ot={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"==typeof n?(wa(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#et=fo.from(e))):n&&(wa(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#et=n)}_getOption(e){return this.#g[e]}get _network(){return va(this.#et,"network is not available yet","NETWORK_ERROR"),this.#et}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Xa(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#et)return this.#et}return this.#ct?await this.#ct:this.ready?(this.#ct=(async()=>{try{const e=fo.from(Xa(await this.send("eth_chainId",[])));return this.#ct=null,e}catch(e){throw this.#ct=null,e}})(),await this.#ct):(this.#ct=(async()=>{const e={id:this.#st++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ct=null}catch(e){throw this.#ct=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return fo.from(Xa(t.result));throw this.getRpcError(e,t)})(),await this.#ct)}_start(){null!=this.#ot&&null!=this.#ot.resolve&&(this.#ot.resolve(),this.#ot=null,(async()=>{for(;null==this.#et&&!this.destroyed;)try{this.#et=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ya("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Kp(1e3)}this.#ut()})())}async _waitUntilReady(){if(null!=this.#ot)return await this.#ot.promise}_getSubscriber(e){return"pending"===e.type?new Zp(this):"event"===e.type?this._getOption("polling")?new kp(this,e.filter):new zp(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Op("orphan"):super._getSubscriber(e)}get ready(){return null==this.#ot}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=ao(Xa(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=Pa(e[n]))})),e.accessList&&(t.accessList=qa(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Yp(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Yp(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Yp(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Yp(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Yp):e.filter.address=Yp(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return ya("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=ng(r),s=eu.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:r,payload:e},s}const s=JSON.stringify(function(e){const t=[];return rg(e,t),t}(r));if("string"==typeof r.message&&r.message.match(/user denied|ethers-user-denied/i))return ya("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}});if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return ya("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return ya("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return ya("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(s.match(/only replay-protected/i))return ya("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let i=!!s.match(/the method .* does not exist/i);return i||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(i=!0),i?ya("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):ya("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(ya("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#st++,r=new Promise(((r,s)=>{this.#it.push({resolve:r,reject:s,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#ut(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Xp(this,n[e])}const{accounts:n}=await da({network:this.getNetwork(),accounts:t});e=za(e);for(const t of n)if(za(t)===e)return new Xp(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Xp(this,e)))}destroy(){this.#at&&(clearTimeout(this.#at),this.#at=null);for(const{payload:e,reject:t}of this.#it)t(ya("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#it=[],super.destroy()}}class tg extends eg{#lt;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=$p.pollingInterval),this.#lt=n}_getSubscriber(e){const t=super._getSubscriber(e);return Wp(t)&&(t.pollingInterval=this.#lt),t}get pollingInterval(){return this.#lt}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#lt=e,this._forEachSubscriber((e=>{Wp(e)&&(e.pollingInterval=this.#lt)}))}}function ng(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&Ta(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const n=ng(e[t]);if(n)return n}return null}if("string"==typeof e)try{return ng(JSON.parse(e))}catch(e){}return null}function rg(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const n in e)rg(e[n],t);if("string"==typeof e)try{return rg(JSON.parse(e),t)}catch(e){}}}class sg extends tg{#K;constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});wa(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),this.#K=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){wa(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#K(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#K("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}const ig=JSON.parse('{"HV":[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"jsonURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function ag(e){return ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(e)}function og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,a,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,s=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ug(){ug=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function w(){}var b={};u(b,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(S([])));E&&E!==n&&r.call(E,a)&&(b=E);var x=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(s,i,a,o){var c=h(e[s],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ag(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function T(t,n,r){var s=d;return function(i,a){if(s===p)throw Error("Generator is already running");if(s===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var c=I(o,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var u=h(t,n,r);if("normal"===u.type){if(s=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(s=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ag(t)+" is not iterable")}return v.prototype=w,s(x,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(N.prototype),u(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var a=new N(l(e,n,r,s),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;P(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function lg(e,t,n,r,s,i,a){try{var o=e[i](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function hg(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){lg(i,r,s,a,o,"next",e)}function o(e){lg(i,r,s,a,o,"throw",e)}a(void 0)}))}}function dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fg(r.key),r)}}function fg(e){var t=function(e){if("object"!=ag(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ag(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ag(t)?t:t+""}var pg=function(){return e=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gi(n),!(t instanceof fo))return console.error("Invalid network provided"),void console.error((new Error).stack);this.network=pi(t,"Network not provided"),this.contractAddress=pi(n.toLowerCase(),"Contract address not provided"),this.iface=pi(new ou(ig.HV),"Interface not found")},t=[{key:"getNftMetadata",value:(r=hg(ug().mark((function e(t){var n,r,s,i;return ug().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mi(t),t=parseInt(t),n=pi(new sg(window.ethereum,this.network),"Provider"),e.t0=pi,e.next=6,n.getSigner();case 6:return e.t1=e.sent,r=(0,e.t0)(e.t1,"Signer not found"),e.prev=8,s=pi(new Tl(this.contractAddress,this.iface,r),"Contract not found"),e.t2=pi,e.next=13,yi(hg(ug().mark((function e(){return ug().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.tokenURI(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),5);case 13:return e.t3=e.sent,i=(0,e.t2)(e.t3,"Metadata URI not found"),i=pi(JSON.parse(i),"Metadata is not JSON"),(i=Object.fromEntries(Object.entries(i).map((function(e){var t=og(e,2),n=t[0],r=t[1];return[n.toLowerCase(),r]})))).tokenid=t,i.contractid=this.contractAddress,e.t4=pi,e.next=22,yi(hg(ug().mark((function e(){return ug().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ownerOf(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),5);case 22:return e.t5=e.sent,i.ownerid=(0,e.t4)(e.t5,"Owner ID not found"),i=JSON.stringify(i),e.abrupt("return",i);case 28:return e.prev=28,e.t6=e.catch(8),console.error("Error retrieving NFT metadata for Token ID ".concat(t,":"),e.t6),e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,this,[[8,28]])}))),function(e){return r.apply(this,arguments)})},{key:"getTokensMetadata",value:(n=hg(ug().mark((function e(t){var n=this;return ug().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Array.isArray(t)){e.next=3;break}return console.error("Invalid tokens array provided"),e.abrupt("return",null);case 3:return(t=t.map((function(e){return parseInt(e)}))).map((function(e){return mi(e)})),e.prev=5,e.next=8,Promise.all(t.map((function(e){return n.getNftMetadata(e)})));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),console.error("Error retrieving multiple NFT metadata:",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[5,11]])}))),function(e){return n.apply(this,arguments)})}],t&&dg(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();const gg=pg;function mg(e){return mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(e)}function yg(){yg=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function w(){}var b={};u(b,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(S([])));E&&E!==n&&r.call(E,a)&&(b=E);var x=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(s,i,a,o){var c=h(e[s],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==mg(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function T(t,n,r){var s=d;return function(i,a){if(s===p)throw Error("Generator is already running");if(s===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var c=I(o,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var u=h(t,n,r);if("normal"===u.type){if(s=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(s=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(mg(t)+" is not iterable")}return v.prototype=w,s(x,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(N.prototype),u(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var a=new N(l(e,n,r,s),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;P(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function vg(e,t,n,r,s,i,a){try{var o=e[i](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bg(r.key),r)}}function bg(e){var t=function(e){if("object"!=mg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mg(t)?t:t+""}var Ag=function(){return e=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;this._state={walletAddress:null},e.instance=this},t=[{key:"getWalletAddress",value:function(){return this._state.walletAddress}},{key:"setWalletAddress",value:function(e){this._state.walletAddress=e}},{key:"connectWallet",value:(n=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){vg(i,r,s,a,o,"next",e)}function o(e){vg(i,r,s,a,o,"throw",e)}a(void 0)}))}}(yg().mark((function e(t){var n;return yg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===window.ethereum){e.next=18;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return n=e.sent,this.setWalletAddress(n[0].toLowerCase()),t&&"function"==typeof t&&t("Connected"),alert("Connected to account: ".concat(this.getWalletAddress())),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.error("Connection request was rejected or there was an error",e.t0),alert("Failed to connect. Please try again."),e.abrupt("return",!1);case 16:e.next=19;break;case 18:alert("MetaMask is not installed. Please install MetaMask and try again.");case 19:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e){return n.apply(this,arguments)})},{key:"disconnectWallet",value:function(e){this.setWalletAddress(null),e&&"function"==typeof e&&e("Connect Wallet"),alert("Disconnected from wallet.")}}],t&&wg(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Eg=new Ag;Object.freeze(Eg);const xg=Eg;function kg(e){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(e)}function Ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Og(r.key),r)}}function Ig(e,t,n){return t&&Tg(e.prototype,t),n&&Tg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Og(e){var t=function(e){if("object"!=kg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kg(t)?t:t+""}var Pg=function(){return Ig((function e(){if(Ng(this,e),e.instance)return e.instance;this.contracts={},this.contractsByAddress={},e.instance=this}),[{key:"addContractSettings",value:function(e,t,n,r){this.contractsByAddress[n]?console.error("Contract address ".concat(n," already exists")):(n=n.toLowerCase(),this.contracts[e]=new Cg(t,n,r),this.contractsByAddress[n]=this.contracts[e])}},{key:"getContractSettings",value:function(e){return this.contracts[e]}},{key:"getContractSettingsByAddress",value:function(e){return this.contractsByAddress[e]}}])}(),Cg=function(){return Ig((function e(t,n,r){return Ng(this,e),t instanceof fo?"string"!=typeof n?(console.error("Invalid contract address provided"),void console.error((new Error).stack)):"string"!=typeof r?(console.error("Invalid Goldsky API provided"),void console.error((new Error).stack)):(this.network=t,this.contractAddress=n.toLowerCase(),void(this.goldskyApi=r)):(console.error("Invalid network provided"),void console.error((new Error).stack))}),[{key:"getNetwork",value:function(){return this.network}},{key:"getContractAddress",value:function(){return this.contractAddress}},{key:"getGoldskyApi",value:function(){return this.goldskyApi}}])}(),Sg=new Pg;Object.freeze(Sg);const _g=Sg;function Rg(e){return Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(e)}function Bg(){Bg=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function y(){}function v(){}function w(){}var b={};u(b,a,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(S([])));E&&E!==n&&r.call(E,a)&&(b=E);var x=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(s,i,a,o){var c=h(e[s],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Rg(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,o)}))}o(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function T(t,n,r){var s=d;return function(i,a){if(s===p)throw Error("Generator is already running");if(s===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var c=I(o,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===d)throw s=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=p;var u=h(t,n,r);if("normal"===u.type){if(s=r.done?g:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(s=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(s,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Rg(t)+" is not iterable")}return v.prototype=w,s(x,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(N.prototype),u(N.prototype,o,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var a=new N(l(e,n,r,s),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;P(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Lg(e,t,n,r,s,i,a){try{var o=e[i](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,s)}Sg.addContractSettings("GamingNftZetachain1",new fo("https://zeta-chain-testnet.drpc.org",7001),"0x2f1b7b418A51A62685c0E7617ca6c0C5551106e6","https://api.goldsky.com/api/public/project_cm0jlloqy8ay901vt86y56f0t/subgraphs/nft-1-zetachain-testnet/v1/gn"),Sg.addContractSettings("GamingNftZetachain2",new fo("https://zeta-chain-testnet.drpc.org",7001),"0xB5E0066AAd80b5f1fdDAcA49e928e95d636FC0FF","https://api.goldsky.com/api/public/project_cm0jlloqy8ay901vt86y56f0t/subgraphs/nft-2-zetachain-testnet/v1/gn"),Sg.addContractSettings("GamingNftSepolia",new fo("wss://ethereum-sepolia-rpc.publicnode.com",11155111),"0x6479A92F15CC8558c823eaCd1013b047DA90BA8f","https://api.goldsky.com/api/public/project_cm0jlloqy8ay901vt86y56f0t/subgraphs/nft-sepolia/v1/gn"),Sg.addContractSettings("SwapperNftZetachain",new fo("https://zeta-chain-testnet.drpc.org",7001),"0xe9c75c3b48BD57F63886322F0ca1C5b04937791a","https://api.goldsky.com/api/public/project_cm0l8yvile64b01wo51lfdaga/subgraphs/nft-swapper-2-zetachain-testnet/v1/gn");var Dg={1:"#C92626",2:"#3030E3",3:"#29AB29",4:"#FFCC00",5:"#4C00B0",6:"#E65B05",7:"#BE2ED6"},Fg=document.getElementById("connectWalletBtn"),Ug=document.getElementById("skinSelector");function Mg(e){Fg.textContent=e}function jg(){return jg=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){Lg(i,r,s,a,o,"next",e)}function o(e){Lg(i,r,s,a,o,"throw",e)}a(void 0)}))}}(Bg().mark((function e(){var t,n,r,s,i,a;return Bg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xg.connectWallet(Mg);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return t=xg.getWalletAddress(),n=_g.getContractSettings("GamingNftZetachain1"),r=new Ii(n.getGoldskyApi(),t),e.next=10,r.fetchUserNft();case 10:if(s=e.sent,t){e.next=14;break}return alert("Failed to connect wallet."),e.abrupt("return");case 14:return i=new gg(n.getNetwork(),n.getContractAddress()),e.next=17,i.getTokensMetadata(s);case 17:if(a=e.sent){e.next=20;break}return e.abrupt("return");case 20:a.map((function(e){return JSON.parse(e).name})).forEach((function(e,t){console.log(e);var n=document.createElement("option");n.value=Dg[s[t]],n.text=e,Ug.add(n)}));case 22:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}Fg.addEventListener("click",(function(){return jg.apply(this,arguments)})),Mg("Connect Your Wallet")})();